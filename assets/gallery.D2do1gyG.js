const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./gallery-root.B8ZTUQwf.js","./gallery-lazy.D_imdb33.js","./lodash.DACQP5Pu.js","./jquery.TLgHKWof.js","./gallery-makeCoverUrl.zIZ8I3-C.js","./content-script-helpers.DqBukurb.js","./jszip.Ip5JjwIA.js","./gallery-search.DaLOcaib.js","./gallery-findSubPageSource.Bbd9uvvg.js","./gallery-findSubPageSource.BgvcLmoU.css","./gallery-page-title.CSSwydTm.js","./gallery-page-title.DVu4gcs-.css","./fuse.esm.BiDyM4rQ.js","./gallery-search.D5uzt5EG.css","./index.D8jzMlQu.js","./howler.DKQBfetK.js","./tippy.CrdWBEYJ.js","./tippy.BHH8rdGj.css","./gallery-root.DKnTKj2E.css","./gallery-collections.DAfRFNQf.js","./gallery-collections.BoO3Z8Dh.css","./gallery-categories.OVm4lTNI.js","./gallery-categories.VsikFH_a.css","./gallery-series.BSfuyEDR.js","./gallery-series.Dt3ZJb2y.css","./gallery-authors.Cys8Ii98.js","./gallery-authors.gxJBnSgw.css","./gallery-narrators.6OtZyQtp.js","./gallery-narrators.DccvYIco.css","./gallery-publishers.BpGxiw_I.js","./gallery-publishers.CaBH1Qku.css"])))=>i.map(i=>d[i]);
import{m as dt}from"./gallery-makeCoverUrl.zIZ8I3-C.js";import{m as te,c as C,o as S,a as k,_ as pe,w as ge,v as dn,r as De,n as He,b as H,d as q,e as at,t as me,f as Bt,g as de,h as re,F as Te,i as Ie,j as Et,k as cs,l as hn,p as us,q as ds,s as pn,u as Ze,x as Nt,y as Ae,z as hs,A as fn,B as et,C as ps,D as fs,E as it,G as Se,H as mn,I as kt,J as ms,K as gs,L as vs,M as ys}from"./lodash.DACQP5Pu.js";import{c as bs,g as ks}from"./jquery.TLgHKWof.js";import{r as ws,s as _s}from"./index.D8jzMlQu.js";import{U as ct,t as $e,c as ut,n as je,d as Ss,m as $s,a as xs,g as Cs,e as Ps,s as Es,b as Rs,h as Os}from"./content-script-helpers.DqBukurb.js";import{h as Ms}from"./howler.DKQBfetK.js";import{c as As,m as Ls,p as Ts}from"./tippy.CrdWBEYJ.js";import"./jszip.Ip5JjwIA.js";const Is={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ds(e,t){return S(),C("svg",Is,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M18 13c0 3.31-2.69 6-6 6s-6-2.69-6-6s2.69-6 6-6v4l5-5l-5-5v4c-4.42 0-8 3.58-8 8s3.58 8 8 8s8-3.58 8-8z"},null,-1),k("path",{fill:"currentColor",d:"M10.06 15.38c-.29 0-.62-.17-.62-.54h-.85c0 .97.9 1.23 1.45 1.23c.87 0 1.51-.46 1.51-1.25c0-.66-.45-.9-.71-1c.11-.05.65-.32.65-.92c0-.21-.05-1.22-1.44-1.22c-.62 0-1.4.35-1.4 1.16h.85c0-.34.31-.48.57-.48c.59 0 .58.5.58.54c0 .52-.41.59-.63.59h-.46v.66h.45c.65 0 .7.42.7.64c0 .32-.21.59-.65.59m3.79-3.7c-.14 0-1.44-.08-1.44 1.82v.74c0 1.9 1.31 1.82 1.44 1.82c.14 0 1.44.09 1.44-1.82v-.74c.01-1.91-1.3-1.82-1.44-1.82m.6 2.67c0 .77-.21 1.03-.59 1.03s-.6-.26-.6-1.03v-.97c0-.75.22-1.01.59-1.01c.38 0 .6.26.6 1.01z"},null,-1)]))}const gn=te({name:"ic-baseline-forward30",render:Ds}),js={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Bs(e,t){return S(),C("svg",js,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m-1 14H9V8h2zm4 0h-2V8h2z"},null,-1)]))}const Ns=te({name:"ic-sharp-pause-circle-filled",render:Bs}),Vs={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function zs(e,t){return S(),C("svg",Vs,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m-2 14.5v-9l6 4.5z"},null,-1)]))}const Hs=te({name:"ic-sharp-play-circle-filled",render:zs}),Us={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function qs(e,t){return S(),C("svg",Us,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6s-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8s-3.58-8-8-8"},null,-1),k("path",{fill:"currentColor",d:"M9.56 13.49h.45c.21 0 .37-.05.48-.16s.16-.25.16-.43a.54.54 0 0 0-.15-.39c-.05-.05-.11-.09-.18-.11s-.16-.04-.25-.04c-.08 0-.15.01-.22.03s-.13.05-.18.1s-.09.09-.12.15s-.05.13-.05.2h-.85a1.06 1.06 0 0 1 .41-.85c.13-.1.27-.18.44-.23s.35-.08.54-.08c.21 0 .41.03.59.08s.33.13.46.23s.23.23.3.38s.11.33.11.53a.84.84 0 0 1-.17.52a1.1 1.1 0 0 1-.48.39c.24.09.42.21.54.39s.18.38.18.61c0 .2-.04.38-.12.53s-.18.29-.32.39s-.29.19-.48.24s-.38.08-.6.08c-.18 0-.36-.02-.53-.07s-.33-.12-.46-.23s-.25-.23-.33-.38s-.12-.34-.12-.55h.85c0 .08.02.15.05.22s.07.12.13.17s.12.09.2.11s.16.04.25.04c.1 0 .19-.01.27-.04s.15-.07.2-.12s.1-.11.13-.18s.04-.15.04-.24c0-.11-.02-.21-.05-.29s-.08-.15-.14-.2s-.13-.09-.22-.11s-.18-.04-.29-.04h-.47zm5.74.75c0 .32-.03.6-.1.82s-.17.42-.29.57s-.28.26-.45.33s-.37.1-.59.1s-.41-.03-.59-.1s-.33-.18-.46-.33s-.23-.34-.3-.57s-.11-.5-.11-.82v-.74c0-.32.03-.6.1-.82s.17-.42.29-.57s.28-.26.45-.33s.37-.1.59-.1s.41.03.59.1s.33.18.46.33s.23.34.3.57s.11.5.11.82zm-.85-.86c0-.19-.01-.35-.04-.48s-.07-.23-.12-.31s-.11-.14-.19-.17s-.16-.05-.25-.05s-.18.02-.25.05s-.14.09-.19.17s-.09.18-.12.31s-.04.29-.04.48v.97c0 .19.01.35.04.48s.07.24.12.32s.11.14.19.17s.16.05.25.05s.18-.02.25-.05s.14-.09.19-.17s.09-.19.11-.32c.03-.13.04-.29.04-.48v-.97z"},null,-1)]))}const vn=te({name:"ic-baseline-replay30",render:qs});var yn={exports:{}};(function(e,t){(function(n,s){e.exports=s(ws)})(typeof self<"u"?self:bs,function(n){return function(){var s={388:function(d,u){var h,l,m;(function(y,f){l=[],h=f,m=typeof h=="function"?h.apply(u,l):h,m===void 0||(d.exports=m)})(typeof self<"u"&&self,function(){function y(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==y&&document.currentScript)return document.currentScript;try{throw new Error}catch(be){var $,v,b,R=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,A=/@([^@]*):(\d+):(\d+)\s*$/gi,E=R.exec(be.stack)||A.exec(be.stack),N=E&&E[1]||!1,J=E&&E[2]||!1,V=document.location.href.replace(document.location.hash,""),F=document.getElementsByTagName("script");N===V&&($=document.documentElement.outerHTML,v=new RegExp("(?:[^\\n]+?\\n){0,"+(J-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),b=$.replace(v,"$1").trim());for(var Z=0;Z<F.length;Z++)if(F[Z].readyState==="interactive"||F[Z].src===N||N===V&&F[Z].innerHTML&&F[Z].innerHTML.trim()===b)return F[Z];return null}}return y})},905:function(d,u,h){h.r(u);var l=h(117),m=h.n(l),y=h(488),f=h.n(y),$=f()(m());$.push([d.id,".vue-slider-dot{position:absolute;-webkit-transition:all 0s;transition:all 0s;z-index:5}.vue-slider-dot:focus{outline:none}.vue-slider-dot-tooltip{position:absolute;visibility:hidden}.vue-slider-dot-hover:hover .vue-slider-dot-tooltip,.vue-slider-dot-tooltip-show{visibility:visible}.vue-slider-dot-tooltip-top{top:-10px;left:50%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}.vue-slider-dot-tooltip-bottom{bottom:-10px;left:50%;-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}.vue-slider-dot-tooltip-left{left:-10px;top:50%;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%)}.vue-slider-dot-tooltip-right{right:-10px;top:50%;-webkit-transform:translate(100%,-50%);transform:translate(100%,-50%)}",""]),u.default=$},121:function(d,u,h){h.r(u);var l=h(117),m=h.n(l),y=h(488),f=h.n(y),$=f()(m());$.push([d.id,".vue-slider-marks{position:relative;width:100%;height:100%}.vue-slider-mark{position:absolute;z-index:1}.vue-slider-ltr .vue-slider-mark,.vue-slider-rtl .vue-slider-mark{width:0;height:100%;top:50%}.vue-slider-ltr .vue-slider-mark-step,.vue-slider-rtl .vue-slider-mark-step{top:0}.vue-slider-ltr .vue-slider-mark-label,.vue-slider-rtl .vue-slider-mark-label{top:100%;margin-top:10px}.vue-slider-ltr .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ltr .vue-slider-mark-step{left:0}.vue-slider-ltr .vue-slider-mark-label{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.vue-slider-rtl .vue-slider-mark{-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.vue-slider-rtl .vue-slider-mark-step{right:0}.vue-slider-rtl .vue-slider-mark-label{right:50%;-webkit-transform:translateX(50%);transform:translateX(50%)}.vue-slider-btt .vue-slider-mark,.vue-slider-ttb .vue-slider-mark{width:100%;height:0;left:50%}.vue-slider-btt .vue-slider-mark-step,.vue-slider-ttb .vue-slider-mark-step{left:0}.vue-slider-btt .vue-slider-mark-label,.vue-slider-ttb .vue-slider-mark-label{left:100%;margin-left:10px}.vue-slider-btt .vue-slider-mark{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}.vue-slider-btt .vue-slider-mark-step{top:0}.vue-slider-btt .vue-slider-mark-label{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-slider-ttb .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ttb .vue-slider-mark-step{bottom:0}.vue-slider-ttb .vue-slider-mark-label{bottom:50%;-webkit-transform:translateY(50%);transform:translateY(50%)}.vue-slider-mark-label,.vue-slider-mark-step{position:absolute}",""]),u.default=$},207:function(d,u,h){h.r(u);var l=h(117),m=h.n(l),y=h(488),f=h.n(y),$=f()(m());$.push([d.id,".vue-slider{position:relative;-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.vue-slider-rail{position:relative;width:100%;height:100%;-webkit-transition-property:width,height,left,right,top,bottom;transition-property:width,height,left,right,top,bottom}.vue-slider-process{position:absolute;z-index:1}",""]),u.default=$},488:function(d){d.exports=function(u){var h=[];return h.toString=function(){return this.map(function(l){var m="",y=typeof l[5]<"u";return l[4]&&(m+="@supports (".concat(l[4],") {")),l[2]&&(m+="@media ".concat(l[2]," {")),y&&(m+="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {")),m+=u(l),y&&(m+="}"),l[2]&&(m+="}"),l[4]&&(m+="}"),m}).join("")},h.i=function(l,m,y,f,$){typeof l=="string"&&(l=[[null,l,void 0]]);var v={};if(y)for(var b=0;b<this.length;b++){var R=this[b][0];R!=null&&(v[R]=!0)}for(var A=0;A<l.length;A++){var E=[].concat(l[A]);y&&v[E[0]]||(typeof $<"u"&&(typeof E[5]>"u"||(E[1]="@layer".concat(E[5].length>0?" ".concat(E[5]):""," {").concat(E[1],"}")),E[5]=$),m&&(E[2]&&(E[1]="@media ".concat(E[2]," {").concat(E[1],"}")),E[2]=m),f&&(E[4]?(E[1]="@supports (".concat(E[4],") {").concat(E[1],"}"),E[4]=f):E[4]="".concat(f)),h.push(E))}},h}},117:function(d){d.exports=function(u){return u[1]}},831:function(d,u){u.Z=(h,l)=>{const m=h.__vccOpts||h;for(const[y,f]of l)m[y]=f;return m}},466:function(d,u,h){var l=h(905);l.__esModule&&(l=l.default),typeof l=="string"&&(l=[[d.id,l,""]]),l.locals&&(d.exports=l.locals);var m=h(959).Z;m("50bc1720",l,!0,{sourceMap:!1,shadowMode:!1})},18:function(d,u,h){var l=h(121);l.__esModule&&(l=l.default),typeof l=="string"&&(l=[[d.id,l,""]]),l.locals&&(d.exports=l.locals);var m=h(959).Z;m("10aa5f36",l,!0,{sourceMap:!1,shadowMode:!1})},631:function(d,u,h){var l=h(207);l.__esModule&&(l=l.default),typeof l=="string"&&(l=[[d.id,l,""]]),l.locals&&(d.exports=l.locals);var m=h(959).Z;m("1772934e",l,!0,{sourceMap:!1,shadowMode:!1})},959:function(d,u,h){function l(I,G){for(var W=[],U={},B=0;B<G.length;B++){var Q=G[B],ee=Q[0],ne=Q[1],ae=Q[2],fe=Q[3],ve={id:I+":"+B,css:ne,media:ae,sourceMap:fe};U[ee]?U[ee].parts.push(ve):W.push(U[ee]={id:ee,parts:[ve]})}return W}h.d(u,{Z:function(){return J}});var m=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!m)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var y={},f=m&&(document.head||document.getElementsByTagName("head")[0]),$=null,v=0,b=!1,R=function(){},A=null,E="data-vue-ssr-id",N=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function J(I,G,W,U){b=W,A=U||{};var B=l(I,G);return V(B),function(Q){for(var ee=[],ne=0;ne<B.length;ne++){var ae=B[ne],fe=y[ae.id];fe.refs--,ee.push(fe)}for(Q?(B=l(I,Q),V(B)):B=[],ne=0;ne<ee.length;ne++)if(fe=ee[ne],fe.refs===0){for(var ve=0;ve<fe.parts.length;ve++)fe.parts[ve]();delete y[fe.id]}}}function V(I){for(var G=0;G<I.length;G++){var W=I[G],U=y[W.id];if(U){U.refs++;for(var B=0;B<U.parts.length;B++)U.parts[B](W.parts[B]);for(;B<W.parts.length;B++)U.parts.push(Z(W.parts[B]));U.parts.length>W.parts.length&&(U.parts.length=W.parts.length)}else{var Q=[];for(B=0;B<W.parts.length;B++)Q.push(Z(W.parts[B]));y[W.id]={id:W.id,refs:1,parts:Q}}}}function F(){var I=document.createElement("style");return I.type="text/css",f.appendChild(I),I}function Z(I){var G,W,U=document.querySelector("style["+E+'~="'+I.id+'"]');if(U){if(b)return R;U.parentNode.removeChild(U)}if(N){var B=v++;U=$||($=F()),G=ke.bind(null,U,B,!1),W=ke.bind(null,U,B,!0)}else U=F(),G=Ne.bind(null,U),W=function(){U.parentNode.removeChild(U)};return G(I),function(Q){if(Q){if(Q.css===I.css&&Q.media===I.media&&Q.sourceMap===I.sourceMap)return;G(I=Q)}else W()}}var be=function(){var I=[];return function(G,W){return I[G]=W,I.filter(Boolean).join(`
`)}}();function ke(I,G,W,U){var B=W?"":U.css;if(I.styleSheet)I.styleSheet.cssText=be(G,B);else{var Q=document.createTextNode(B),ee=I.childNodes;ee[G]&&I.removeChild(ee[G]),ee.length?I.insertBefore(Q,ee[G]):I.appendChild(Q)}}function Ne(I,G){var W=G.css,U=G.media,B=G.sourceMap;if(U&&I.setAttribute("media",U),A.ssrId&&I.setAttribute(E,G.id),B&&(W+=`
/*# sourceURL=`+B.sources[0]+" */",W+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */"),I.styleSheet)I.styleSheet.cssText=W;else{for(;I.firstChild;)I.removeChild(I.firstChild);I.appendChild(document.createTextNode(W))}}},927:function(d){d.exports=n}},o={};function a(d){var u=o[d];if(u!==void 0)return u.exports;var h=o[d]={id:d,exports:{}};return s[d].call(h.exports,h,h.exports,a),h.exports}(function(){a.n=function(d){var u=d&&d.__esModule?function(){return d.default}:function(){return d};return a.d(u,{a:u}),u}})(),function(){a.d=function(d,u){for(var h in u)a.o(u,h)&&!a.o(d,h)&&Object.defineProperty(d,h,{enumerable:!0,get:u[h]})}}(),function(){a.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)}}(),function(){a.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})}}(),function(){a.p=""}();var c={};return function(){if(a.d(c,{default:function(){return is}}),typeof window<"u"){var d=window.document.currentScript,u=a(388);d=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u});var h=d&&d.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);h&&(a.p=h[1])}var l=a(927);function m(i,r,p){return r in i?Object.defineProperty(i,r,{value:p,enumerable:!0,configurable:!0,writable:!0}):i[r]=p,i}var y={key:0,class:"vue-slider-marks"};function f(i,r,p,g,x,M){var T=(0,l.resolveComponent)("vue-slider-mark"),ue=(0,l.resolveComponent)("vue-slider-dot");return(0,l.openBlock)(),(0,l.createElementBlock)("div",(0,l.mergeProps)({ref:"container",class:i.containerClasses,style:i.containerStyles,onClick:r[2]||(r[2]=function(){return i.clickHandle&&i.clickHandle.apply(i,arguments)}),onTouchstartPassive:r[3]||(r[3]=function(){return i.dragStartOnProcess&&i.dragStartOnProcess.apply(i,arguments)}),onMousedownPassive:r[4]||(r[4]=function(){return i.dragStartOnProcess&&i.dragStartOnProcess.apply(i,arguments)})},i.$attrs),[(0,l.createElementVNode)("div",{class:"vue-slider-rail",style:(0,l.normalizeStyle)(i.railStyle)},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(i.processArray,function(D,oe){return(0,l.renderSlot)(i.$slots,"process",(0,l.normalizeProps)((0,l.guardReactiveProps)(D)),function(){return[((0,l.openBlock)(),(0,l.createElementBlock)("div",{class:"vue-slider-process",key:"process-".concat(oe),style:(0,l.normalizeStyle)(D.style)},null,4))]})}),256)),i.sliderMarks&&i.control?((0,l.openBlock)(),(0,l.createElementBlock)("div",y,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(i.control.markList,function(D,oe){return(0,l.renderSlot)(i.$slots,"mark",(0,l.normalizeProps)((0,l.guardReactiveProps)(D)),function(){var he;return[((0,l.openBlock)(),(0,l.createBlock)(T,{key:"mark-".concat(oe),mark:D,hideLabel:i.hideLabel,style:(0,l.normalizeStyle)((he={},m(he,i.isHorizontal?"height":"width","100%"),m(he,i.isHorizontal?"width":"height",i.tailSize),m(he,i.mainDirection,"".concat(D.pos,"%")),he)),stepStyle:i.stepStyle,stepActiveStyle:i.stepActiveStyle,labelStyle:i.labelStyle,labelActiveStyle:i.labelActiveStyle,onPressLabel:r[0]||(r[0]=function(We){return i.clickable&&i.setValueByPos(We)})},{step:(0,l.withCtx)(function(){return[(0,l.renderSlot)(i.$slots,"step",(0,l.normalizeProps)((0,l.guardReactiveProps)(D)))]}),label:(0,l.withCtx)(function(){return[(0,l.renderSlot)(i.$slots,"label",(0,l.normalizeProps)((0,l.guardReactiveProps)(D)))]}),_:2},1032,["mark","hideLabel","style","stepStyle","stepActiveStyle","labelStyle","labelActiveStyle"]))]})}),256))])):(0,l.createCommentVNode)("",!0),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(i.dots,function(D,oe){var he;return(0,l.openBlock)(),(0,l.createBlock)(ue,(0,l.mergeProps)({ref_for:!0,ref:"dot-".concat(oe),key:"dot-".concat(oe),value:D.value,disabled:D.disabled,focus:D.focus,"dot-style":[D.style,D.disabled?D.disabledStyle:null,D.focus?D.focusStyle:null],tooltip:D.tooltip||i.tooltip,"tooltip-style":[i.tooltipStyle,D.tooltipStyle,D.disabled?D.tooltipDisabledStyle:null,D.focus?D.tooltipFocusStyle:null],"tooltip-formatter":Array.isArray(i.sliderTooltipFormatter)?i.sliderTooltipFormatter[oe]:i.sliderTooltipFormatter,"tooltip-placement":i.tooltipDirections[oe],style:[i.dotBaseStyle,(he={},m(he,i.mainDirection,"".concat(D.pos,"%")),m(he,"transition","".concat(i.mainDirection," ").concat(i.animateTime,"s")),he)],onDragStart:function(){return i.dragStart(oe)},role:"slider","aria-valuenow":D.value,"aria-valuemin":i.min,"aria-valuemax":i.max,"aria-orientation":i.isHorizontal?"horizontal":"vertical",tabindex:"0",onFocus:function(){return i.focus(D,oe)},onBlur:r[1]||(r[1]=function(){return i.blur()})},i.dotAttrs),{dot:(0,l.withCtx)(function(){return[(0,l.renderSlot)(i.$slots,"dot",(0,l.normalizeProps)((0,l.guardReactiveProps)(D)))]}),tooltip:(0,l.withCtx)(function(){return[(0,l.renderSlot)(i.$slots,"tooltip",(0,l.normalizeProps)((0,l.guardReactiveProps)(D)))]}),_:2},1040,["value","disabled","focus","dot-style","tooltip","tooltip-style","tooltip-formatter","tooltip-placement","style","onDragStart","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","onFocus"])}),128))],4),(0,l.renderSlot)(i.$slots,"default",{value:i.getValue()})],16)}var $=["aria-valuetext"],v={class:"vue-slider-dot-tooltip-text"};function b(i,r,p,g,x,M){var T;return(0,l.openBlock)(),(0,l.createElementBlock)("div",{ref:"dot",class:(0,l.normalizeClass)(i.dotClasses),"aria-valuetext":(T=i.tooltipValue)===null||T===void 0?void 0:T.toString(),onMousedownPassive:r[0]||(r[0]=function(){return i.dragStart&&i.dragStart.apply(i,arguments)}),onTouchstartPassive:r[1]||(r[1]=function(){return i.dragStart&&i.dragStart.apply(i,arguments)})},[(0,l.renderSlot)(i.$slots,"dot",{},function(){return[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(i.handleClasses),style:(0,l.normalizeStyle)(i.dotStyle)},null,6)]}),i.tooltip!=="none"?((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:0,class:(0,l.normalizeClass)(i.tooltipClasses)},[(0,l.renderSlot)(i.$slots,"tooltip",{},function(){return[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(i.tooltipInnerClasses),style:(0,l.normalizeStyle)(i.tooltipStyle)},[(0,l.createElementVNode)("span",v,(0,l.toDisplayString)(i.tooltipValue),1)],6)]})],2)):(0,l.createCommentVNode)("",!0)],42,$)}a(466);var R=(0,l.defineComponent)({name:"VueSliderDot",emits:["drag-start"],props:{value:{type:[String,Number],default:0},tooltip:{type:String,required:!0},tooltipPlacement:{type:String,validator:function(i){return["top","right","bottom","left"].indexOf(i)>-1},required:!0},tooltipFormatter:{type:[String,Function]},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dotStyle:{type:Object},tooltipStyle:{type:Object}},computed:{dotClasses:function(){return["vue-slider-dot",{"vue-slider-dot-hover":this.tooltip==="hover"||this.tooltip==="active","vue-slider-dot-disabled":this.disabled,"vue-slider-dot-focus":this.focus}]},handleClasses:function(){return["vue-slider-dot-handle",{"vue-slider-dot-handle-disabled":this.disabled,"vue-slider-dot-handle-focus":this.focus}]},tooltipClasses:function(){return["vue-slider-dot-tooltip",["vue-slider-dot-tooltip-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-show":this.showTooltip}]},tooltipInnerClasses:function(){return["vue-slider-dot-tooltip-inner",["vue-slider-dot-tooltip-inner-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-inner-disabled":this.disabled,"vue-slider-dot-tooltip-inner-focus":this.focus}]},showTooltip:function(){switch(this.tooltip){case"always":return!0;case"none":return!1;case"focus":case"active":return!!this.focus;default:return!1}},tooltipValue:function(){return this.tooltipFormatter?typeof this.tooltipFormatter=="string"?this.tooltipFormatter.replace(/\{value\}/,String(this.value)):this.tooltipFormatter(this.value):this.value}},methods:{dragStart:function(){if(this.disabled)return!1;this.$emit("drag-start")}}}),A=a(831),N=(0,A.Z)(R,[["render",b]]);function J(i,r,p,g,x,M){return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(i.marksClasses)},[(0,l.renderSlot)(i.$slots,"step",{},function(){return[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(i.stepClasses),style:(0,l.normalizeStyle)([i.stepStyle,i.mark.style||{},i.mark.active&&i.stepActiveStyle?i.stepActiveStyle:{},i.mark.active&&i.mark.activeStyle?i.mark.activeStyle:{}])},null,6)]}),i.hideLabel?(0,l.createCommentVNode)("",!0):(0,l.renderSlot)(i.$slots,"label",{key:0},function(){return[(0,l.createElementVNode)("div",{class:(0,l.normalizeClass)(i.labelClasses),style:(0,l.normalizeStyle)([i.labelStyle,i.mark.labelStyle||{},i.mark.active&&i.labelActiveStyle?i.labelActiveStyle:{},i.mark.active&&i.mark.labelActiveStyle?i.mark.labelActiveStyle:{}]),onClick:r[0]||(r[0]=function(){return i.labelClickHandle&&i.labelClickHandle.apply(i,arguments)})},(0,l.toDisplayString)(i.mark.label),7)]})],2)}a(18);var V=(0,l.defineComponent)({name:"VueSliderMark",emits:["press-label"],props:{mark:{type:Object,required:!0},hideLabel:{type:Boolean},stepStyle:{type:Object,default:function(){return{}}},stepActiveStyle:{type:Object,default:function(){return{}}},labelStyle:{type:Object,default:function(){return{}}},labelActiveStyle:{type:Object,default:function(){return{}}}},computed:{marksClasses:function(){return["vue-slider-mark",{"vue-slider-mark-active":this.mark.active}]},stepClasses:function(){return["vue-slider-mark-step",{"vue-slider-mark-step-active":this.mark.active}]},labelClasses:function(){return["vue-slider-mark-label",{"vue-slider-mark-label-active":this.mark.active}]}},methods:{labelClickHandle:function(i){i.stopPropagation(),this.$emit("press-label",this.mark.pos)}}});const F=(0,A.Z)(V,[["render",J]]);var Z,be=F,ke=function(i){return typeof i=="number"?"".concat(i,"px"):i},Ne=function(i){var r=document.documentElement,p=document.body,g=i.getBoundingClientRect(),x={y:g.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||p.clientTop||0),x:g.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||p.clientLeft||0)};return x},I=function(i,r,p){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,x="targetTouches"in i?i.targetTouches[0]:i,M=Ne(r),T={x:x.pageX-M.x,y:x.pageY-M.y};return{x:p?r.offsetWidth*g-T.x:T.x,y:p?r.offsetHeight*g-T.y:T.y}};(function(i){i[i.PAGE_UP=33]="PAGE_UP",i[i.PAGE_DOWN=34]="PAGE_DOWN",i[i.END=35]="END",i[i.HOME=36]="HOME",i[i.LEFT=37]="LEFT",i[i.UP=38]="UP",i[i.RIGHT=39]="RIGHT",i[i.DOWN=40]="DOWN"})(Z||(Z={}));var G=function(i,r){if(r.hook){var p=r.hook(i);if(typeof p=="function")return p;if(!p)return null}switch(i.keyCode){case Z.UP:return function(g){return r.direction==="ttb"?g-1:g+1};case Z.RIGHT:return function(g){return r.direction==="rtl"?g-1:g+1};case Z.DOWN:return function(g){return r.direction==="ttb"?g+1:g-1};case Z.LEFT:return function(g){return r.direction==="rtl"?g+1:g-1};case Z.END:return function(){return r.max};case Z.HOME:return function(){return r.min};case Z.PAGE_UP:return function(g){return g+10};case Z.PAGE_DOWN:return function(g){return g-10};default:return null}};function W(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function U(i,r){for(var p=0;p<r.length;p++){var g=r[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(i,g.key,g)}}function B(i,r,p){return r&&U(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}function Q(i,r,p){return r in i?Object.defineProperty(i,r,{value:p,enumerable:!0,configurable:!0,writable:!0}):i[r]=p,i}var ee,ne,ae=function(){function i(r){W(this,i),Q(this,"num",void 0),this.num=r}return B(i,[{key:"decimal",value:function(r,p){var g=this.num,x=this.getDecimalLen(g),M=this.getDecimalLen(r),T=0;switch(p){case"+":T=this.getExponent(x,M),this.num=(this.safeRoundUp(g,T)+this.safeRoundUp(r,T))/T;break;case"-":T=this.getExponent(x,M),this.num=(this.safeRoundUp(g,T)-this.safeRoundUp(r,T))/T;break;case"*":this.num=this.safeRoundUp(this.safeRoundUp(g,this.getExponent(x)),this.safeRoundUp(r,this.getExponent(M)))/this.getExponent(x+M);break;case"/":T=this.getExponent(x,M),this.num=this.safeRoundUp(g,T)/this.safeRoundUp(r,T);break;case"%":T=this.getExponent(x,M),this.num=this.safeRoundUp(g,T)%this.safeRoundUp(r,T)/T;break}return this}},{key:"plus",value:function(r){return this.decimal(r,"+")}},{key:"minus",value:function(r){return this.decimal(r,"-")}},{key:"multiply",value:function(r){return this.decimal(r,"*")}},{key:"divide",value:function(r){return this.decimal(r,"/")}},{key:"remainder",value:function(r){return this.decimal(r,"%")}},{key:"toNumber",value:function(){return this.num}},{key:"getDecimalLen",value:function(r){var p="".concat(r).split("e");return("".concat(p[0]).split(".")[1]||"").length-(p[1]?+p[1]:0)}},{key:"getExponent",value:function(r,p){return Math.pow(10,p!==void 0?Math.max(r,p):r)}},{key:"safeRoundUp",value:function(r,p){return Math.round(r*p)}}]),i}();function fe(i,r){return Ve(i)||Fe(i,r)||P(i,r)||ve()}function ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fe(i,r){var p=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(p!=null){var g,x,M=[],T=!0,ue=!1;try{for(p=p.call(i);!(T=(g=p.next()).done)&&(M.push(g.value),!(r&&M.length===r));T=!0);}catch(D){ue=!0,x=D}finally{try{T||p.return==null||p.return()}finally{if(ue)throw x}}return M}}function Ve(i){if(Array.isArray(i))return i}function Ge(i,r){var p=Object.keys(i);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(i);r&&(g=g.filter(function(x){return Object.getOwnPropertyDescriptor(i,x).enumerable})),p.push.apply(p,g)}return p}function Re(i){for(var r=1;r<arguments.length;r++){var p=arguments[r]!=null?arguments[r]:{};r%2?Ge(Object(p),!0).forEach(function(g){Y(i,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(p)):Ge(Object(p)).forEach(function(g){Object.defineProperty(i,g,Object.getOwnPropertyDescriptor(p,g))})}return i}function w(i){return X(i)||L(i)||P(i)||O()}function O(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(i,r){if(i){if(typeof i=="string")return se(i,r);var p=Object.prototype.toString.call(i).slice(8,-1);return p==="Object"&&i.constructor&&(p=i.constructor.name),p==="Map"||p==="Set"?Array.from(i):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?se(i,r):void 0}}function L(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function X(i){if(Array.isArray(i))return se(i)}function se(i,r){(r==null||r>i.length)&&(r=i.length);for(var p=0,g=new Array(r);p<r;p++)g[p]=i[p];return g}function z(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function j(i,r){for(var p=0;p<r.length;p++){var g=r[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(i,g.key,g)}}function ie(i,r,p){return r&&j(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}function Y(i,r,p){return r in i?Object.defineProperty(i,r,{value:p,enumerable:!0,configurable:!0,writable:!0}):i[r]=p,i}(function(i){i[i.VALUE=1]="VALUE",i[i.INTERVAL=2]="INTERVAL",i[i.MIN=3]="MIN",i[i.MAX=4]="MAX",i[i.ORDER=5]="ORDER"})(ne||(ne={}));var ce=(ee={},Y(ee,ne.VALUE,'The type of the "value" is illegal'),Y(ee,ne.INTERVAL,'The prop "interval" is invalid, "(max - min)" must be divisible by "interval"'),Y(ee,ne.MIN,'The "value" must be greater than or equal to the "min".'),Y(ee,ne.MAX,'The "value" must be less than or equal to the "max".'),Y(ee,ne.ORDER,'When "order" is false, the parameters "minRange", "maxRange", "fixed", "enabled" are invalid.'),ee),Fn=function(){function i(r){z(this,i),Y(this,"dotsPos",[]),Y(this,"dotsValue",[]),Y(this,"data",void 0),Y(this,"enableCross",void 0),Y(this,"fixed",void 0),Y(this,"max",void 0),Y(this,"min",void 0),Y(this,"interval",void 0),Y(this,"minRange",void 0),Y(this,"maxRange",void 0),Y(this,"order",void 0),Y(this,"marks",void 0),Y(this,"included",void 0),Y(this,"process",void 0),Y(this,"adsorb",void 0),Y(this,"dotOptions",void 0),Y(this,"onError",void 0),Y(this,"cacheRangeDir",{}),this.data=r.data,this.max=r.max,this.min=r.min,this.interval=r.interval,this.order=r.order,this.marks=r.marks,this.included=r.included,this.process=r.process,this.adsorb=r.adsorb,this.dotOptions=r.dotOptions,this.onError=r.onError,this.order?(this.minRange=r.minRange||0,this.maxRange=r.maxRange||0,this.enableCross=r.enableCross,this.fixed=r.fixed):((r.minRange||r.maxRange||!r.enableCross||r.fixed)&&this.emitError(ne.ORDER),this.minRange=0,this.maxRange=0,this.enableCross=!0,this.fixed=!1),this.setValue(r.value)}return ie(i,[{key:"setValue",value:function(r){this.setDotsValue(Array.isArray(r)?w(r):[r],!0)}},{key:"setDotsValue",value:function(r,p){this.dotsValue=r,p&&this.syncDotsPos()}},{key:"setDotsPos",value:function(r){var p=this,g=this.order?w(r).sort(function(x,M){return x-M}):r;this.dotsPos=g,this.setDotsValue(g.map(function(x){return p.getValueByPos(x)}),this.adsorb)}},{key:"getValueByPos",value:function(r){var p=this.parsePos(r);if(this.included){var g=100;this.markList.forEach(function(x){var M=Math.abs(x.pos-r);M<g&&(g=M,p=x.value)})}return p}},{key:"syncDotsPos",value:function(){var r=this;this.dotsPos=this.dotsValue.map(function(p){return r.parseValue(p)})}},{key:"markList",get:function(){var r=this;if(!this.marks)return[];var p=function(g,x){var M=r.parseValue(g);return Re({pos:M,value:g,label:g,active:r.isActiveByPos(M)},x)};return this.marks===!0?this.getValues().map(function(g){return p(g)}):Object.prototype.toString.call(this.marks)==="[object Object]"?Object.keys(this.marks).sort(function(g,x){return+g-+x}).map(function(g){var x=r.marks[g];return p(g,typeof x!="string"?x:{label:x})}):Array.isArray(this.marks)?this.marks.map(function(g){return p(g)}):typeof this.marks=="function"?this.getValues().map(function(g){return{value:g,result:r.marks(g)}}).filter(function(g){var x=g.result;return!!x}).map(function(g){var x=g.value,M=g.result;return p(x,M)}):[]}},{key:"getRecentDot",value:function(r){var p=this.dotsPos.map(function(g){return Math.abs(g-r)});return p.indexOf(Math.min.apply(Math,w(p)))}},{key:"getIndexByValue",value:function(r){return this.data?this.data.indexOf(r):new ae(+r).minus(this.min).divide(this.interval).toNumber()}},{key:"getValueByIndex",value:function(r){return r<0?r=0:r>this.total&&(r=this.total),this.data?this.data[r]:new ae(r).multiply(this.interval).plus(this.min).toNumber()}},{key:"setDotPos",value:function(r,p){r=this.getValidPos(r,p).pos;var g=r-this.dotsPos[p];if(g){var x=new Array(this.dotsPos.length);this.fixed?x=this.getFixedChangePosArr(g,p):this.minRange||this.maxRange?x=this.getLimitRangeChangePosArr(r,g,p):x[p]=g,this.setDotsPos(this.dotsPos.map(function(M,T){return M+(x[T]||0)}))}}},{key:"getFixedChangePosArr",value:function(r,p){var g=this;return this.dotsPos.forEach(function(x,M){if(M!==p){var T=g.getValidPos(x+r,M),ue=T.pos,D=T.inRange;D||(r=Math.min(Math.abs(ue-x),Math.abs(r))*(r<0?-1:1))}}),this.dotsPos.map(function(x){return r})}},{key:"getLimitRangeChangePosArr",value:function(r,p,g){var x=this,M=[{index:g,changePos:p}],T=p;return[this.minRange,this.maxRange].forEach(function(ue,D){if(!ue)return!1;var oe=D===0,he=p>0,We=0;We=oe?he?1:-1:he?-1:1;for(var rs=function(as,ls){var jt=Math.abs(as-ls);return oe?jt<x.minRangeDir:jt>x.maxRangeDir},Je=g+We,Ye=x.dotsPos[Je],It=r;x.isPos(Ye)&&rs(Ye,It);){var os=x.getValidPos(Ye+T,Je),Dt=os.pos;M.push({index:Je,changePos:Dt-Ye}),Je+=We,It=Dt,Ye=x.dotsPos[Je]}}),this.dotsPos.map(function(ue,D){var oe=M.filter(function(he){return he.index===D});return oe.length?oe[0].changePos:0})}},{key:"isPos",value:function(r){return typeof r=="number"}},{key:"getValidPos",value:function(r,p){var g=this.valuePosRange[p],x=!0;return r<g[0]?(r=g[0],x=!1):r>g[1]&&(r=g[1],x=!1),{pos:r,inRange:x}}},{key:"parseValue",value:function(r){if(this.data)r=this.data.indexOf(r);else if(typeof r=="number"||typeof r=="string"){if(r=+r,r<this.min)return this.emitError(ne.MIN),0;if(r>this.max)return this.emitError(ne.MAX),0;if(typeof r!="number"||r!==r)return this.emitError(ne.VALUE),0;r=new ae(r).minus(this.min).divide(this.interval).toNumber()}var p=new ae(r).multiply(this.gap).toNumber();return p<0?0:p>100?100:p}},{key:"parsePos",value:function(r){var p=Math.round(r/this.gap);return this.getValueByIndex(p)}},{key:"isActiveByPos",value:function(r){return this.processArray.some(function(p){var g=fe(p,2),x=g[0],M=g[1];return r>=x&&r<=M})}},{key:"getValues",value:function(){if(this.data)return this.data;for(var r=[],p=0;p<=this.total;p++)r.push(new ae(p).multiply(this.interval).plus(this.min).toNumber());return r}},{key:"getRangeDir",value:function(r){return r?new ae(r).divide(new ae(this.data?this.data.length-1:this.max).minus(this.data?0:this.min).toNumber()).multiply(100).toNumber():100}},{key:"emitError",value:function(r){this.onError&&this.onError(r,ce[r])}},{key:"processArray",get:function(){if(this.process){if(typeof this.process=="function")return this.process(this.dotsPos);if(this.dotsPos.length===1)return[[0,this.dotsPos[0]]];if(this.dotsPos.length>1)return[[Math.min.apply(Math,w(this.dotsPos)),Math.max.apply(Math,w(this.dotsPos))]]}return[]}},{key:"total",get:function(){var r=0;return r=this.data?this.data.length-1:new ae(this.max).minus(this.min).divide(this.interval).toNumber(),r-Math.floor(r)!==0?(this.emitError(ne.INTERVAL),0):r}},{key:"gap",get:function(){return 100/this.total}},{key:"minRangeDir",get:function(){return this.cacheRangeDir[this.minRange]?this.cacheRangeDir[this.minRange]:this.cacheRangeDir[this.minRange]=this.getRangeDir(this.minRange)}},{key:"maxRangeDir",get:function(){return this.cacheRangeDir[this.maxRange]?this.cacheRangeDir[this.maxRange]:this.cacheRangeDir[this.maxRange]=this.getRangeDir(this.maxRange)}},{key:"getDotRange",value:function(r,p,g){if(!this.dotOptions)return g;var x=Array.isArray(this.dotOptions)?this.dotOptions[r]:this.dotOptions;return x&&x[p]!==void 0?this.parseValue(x[p]):g}},{key:"valuePosRange",get:function(){var r=this,p=this.dotsPos,g=[];return p.forEach(function(x,M){g.push([Math.max(r.minRange?r.minRangeDir*M:0,r.enableCross?0:p[M-1]||0,r.getDotRange(M,"min",0)),Math.min(r.minRange?100-r.minRangeDir*(p.length-1-M):100,r.enableCross?100:p[M+1]||100,r.getDotRange(M,"max",100))])}),g}},{key:"dotsIndex",get:function(){var r=this;return this.dotsValue.map(function(p){return r.getIndexByValue(p)})}}]),i}();function Gn(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function Wn(i,r){for(var p=0;p<r.length;p++){var g=r[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(i,g.key,g)}}function Jn(i,r,p){return r&&Wn(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),i}function At(i,r,p){return r in i?Object.defineProperty(i,r,{value:p,enumerable:!0,configurable:!0,writable:!0}):i[r]=p,i}var Yn=function(){function i(r){Gn(this,i),At(this,"map",void 0),At(this,"states",0),this.map=r}return Jn(i,[{key:"add",value:function(r){this.states|=r}},{key:"delete",value:function(r){this.states&=~r}},{key:"toggle",value:function(r){this.has(r)?this.delete(r):this.add(r)}},{key:"has",value:function(r){return!!(this.states&r)}}]),i}();a(631);function ft(i){return Qn(i)||Xn(i)||Tt(i)||Kn()}function Kn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xn(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function Qn(i){if(Array.isArray(i))return vt(i)}function mt(i){return mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mt(i)}function Lt(i,r){var p=Object.keys(i);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(i);r&&(g=g.filter(function(x){return Object.getOwnPropertyDescriptor(i,x).enumerable})),p.push.apply(p,g)}return p}function lt(i){for(var r=1;r<arguments.length;r++){var p=arguments[r]!=null?arguments[r]:{};r%2?Lt(Object(p),!0).forEach(function(g){xe(i,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(p)):Lt(Object(p)).forEach(function(g){Object.defineProperty(i,g,Object.getOwnPropertyDescriptor(p,g))})}return i}function xe(i,r,p){return r in i?Object.defineProperty(i,r,{value:p,enumerable:!0,configurable:!0,writable:!0}):i[r]=p,i}function gt(i,r){return ts(i)||es(i,r)||Tt(i,r)||Zn()}function Zn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tt(i,r){if(i){if(typeof i=="string")return vt(i,r);var p=Object.prototype.toString.call(i).slice(8,-1);return p==="Object"&&i.constructor&&(p=i.constructor.name),p==="Map"||p==="Set"?Array.from(i):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?vt(i,r):void 0}}function vt(i,r){(r==null||r>i.length)&&(r=i.length);for(var p=0,g=new Array(r);p<r;p++)g[p]=i[p];return g}function es(i,r){var p=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(p!=null){var g,x,M=[],T=!0,ue=!1;try{for(p=p.call(i);!(T=(g=p.next()).done)&&(M.push(g.value),!(r&&M.length===r));T=!0);}catch(D){ue=!0,x=D}finally{try{T||p.return==null||p.return()}finally{if(ue)throw x}}return M}}function ts(i){if(Array.isArray(i))return i}var le={None:0,Drag:2,Focus:4},yt=4,ns=(0,l.defineComponent)({name:"VueSlider",components:{VueSliderDot:N,VueSliderMark:be},emits:["change","drag-start","dragging","drag-end","error","update:modelValue"],data:function(){return{control:null,states:new Yn(le),scale:1,focusDotIndex:0}},props:{modelValue:{type:[Number,String,Array],default:0},silent:{type:Boolean,default:!1},direction:{type:String,default:"ltr",validator:function(i){return["ltr","rtl","ttb","btt"].indexOf(i)>-1}},width:{type:[Number,String]},height:{type:[Number,String]},dotSize:{type:[Number,Array],default:14},contained:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},dragOnClick:{type:Boolean,default:!1},duration:{type:Number,default:.5},data:{type:[Object,Array]},dataValue:{type:String,default:"value"},dataLabel:{type:String,default:"label"},lazy:{type:Boolean,default:!1},tooltip:{type:String,default:"active",validator:function(i){return["none","always","focus","hover","active"].indexOf(i)>-1}},tooltipPlacement:{type:[String,Array],validator:function(i){return(Array.isArray(i)?i:[i]).every(function(r){return["top","right","bottom","left"].indexOf(r)>-1})}},tooltipFormatter:{type:[String,Array,Function]},useKeyboard:{type:Boolean,default:!0},keydownHook:{type:Function},enableCross:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},order:{type:Boolean,default:!0},minRange:{type:Number},maxRange:{type:Number},marks:{type:[Boolean,Object,Array,Function],default:!1},process:{type:[Boolean,Function],default:!0},zoom:{type:Number},included:{type:Boolean},adsorb:{type:Boolean},hideLabel:{type:Boolean},dotOptions:{type:[Object,Array]},dotAttrs:{type:Object},railStyle:{type:Object},processStyle:{type:Object},dotStyle:{type:Object},tooltipStyle:{type:Object},stepStyle:{type:Object},stepActiveStyle:{type:Object},labelStyle:{type:Object},labelActiveStyle:{type:Object}},computed:{isHorizontal:function(){return this.direction==="ltr"||this.direction==="rtl"},isReverse:function(){return this.direction==="rtl"||this.direction==="btt"},tailSize:function(){return ke((this.isHorizontal?this.height:this.width)||yt)},containerClasses:function(){return["vue-slider",["vue-slider-".concat(this.direction)],{"vue-slider-disabled":this.disabled}]},containerStyles:function(){var i=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],r=gt(i,2),p=r[0],g=r[1],x=this.width?ke(this.width):this.isHorizontal?"auto":ke(yt),M=this.height?ke(this.height):this.isHorizontal?ke(yt):"auto";return{padding:this.contained?"".concat(g/2,"px ").concat(p/2,"px"):this.isHorizontal?"".concat(g/2,"px 0"):"0 ".concat(p/2,"px"),width:x,height:M}},processArray:function(){var i=this;return this.control.processArray.map(function(r,p){var g,x=gt(r,3),M=x[0],T=x[1],ue=x[2];if(M>T){var D=[T,M];M=D[0],T=D[1]}var oe=i.isHorizontal?"width":"height";return{start:M,end:T,index:p,style:lt(lt((g={},xe(g,i.isHorizontal?"height":"width","100%"),xe(g,i.isHorizontal?"top":"left",0),xe(g,i.mainDirection,"".concat(M,"%")),xe(g,oe,"".concat(T-M,"%")),xe(g,"transitionProperty","".concat(oe,",").concat(i.mainDirection)),xe(g,"transitionDuration","".concat(i.animateTime,"s")),g),i.processStyle),ue)}})},dotBaseStyle:function(){var i,r=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],p=gt(r,2),g=p[0],x=p[1];return i=this.isHorizontal?xe({transform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),WebkitTransform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),top:"50%"},this.direction==="ltr"?"left":"right","0"):xe({transform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),WebkitTransform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),left:"50%"},this.direction==="btt"?"bottom":"top","0"),lt({width:"".concat(g,"px"),height:"".concat(x,"px")},i)},mainDirection:function(){switch(this.direction){case"ltr":return"left";case"rtl":return"right";case"btt":return"bottom";case"ttb":return"top";default:return"left"}},tooltipDirections:function(){var i=this.tooltipPlacement||(this.isHorizontal?"top":"left");return Array.isArray(i)?i:this.dots.map(function(){return i})},dots:function(){var i=this;return this.control.dotsPos.map(function(r,p){return lt({pos:r,index:p,value:i.control.dotsValue[p],focus:i.states.has(le.Focus)&&i.focusDotIndex===p,disabled:i.disabled,style:i.dotStyle},(Array.isArray(i.dotOptions)?i.dotOptions[p]:i.dotOptions)||{})})},animateTime:function(){return this.states.has(le.Drag)?0:this.duration},canSort:function(){return this.order&&!this.minRange&&!this.maxRange&&!this.fixed&&this.enableCross},sliderData:function(){var i=this;return this.isObjectArrayData(this.data)?this.data.map(function(r){return r[i.dataValue]}):this.isObjectData(this.data)?Object.keys(this.data):this.data},sliderMarks:function(){var i=this;return this.marks?this.marks:this.isObjectArrayData(this.data)?function(r){var p={label:r};return i.data.some(function(g){return g[i.dataValue]===r&&(p.label=g[i.dataLabel],!0)}),p}:this.isObjectData(this.data)?this.data:void 0},sliderTooltipFormatter:function(){var i=this;if(this.tooltipFormatter)return this.tooltipFormatter;if(this.isObjectArrayData(this.data))return function(p){var g=""+p;return i.data.some(function(x){return x[i.dataValue]===p&&(g=x[i.dataLabel],!0)}),g};if(this.isObjectData(this.data)){var r=this.data;return function(p){return r[p]}}},isNotSync:function(){var i=this.control.dotsValue;return Array.isArray(this.modelValue)?this.modelValue.length!==i.length||this.modelValue.some(function(r,p){return r!==i[p]}):this.modelValue!==i[0]},dragRange:function(){var i=this.dots[this.focusDotIndex-1],r=this.dots[this.focusDotIndex+1];return[i?i.pos:-1/0,r?r.pos:1/0]}},watch:{modelValue:function(){this.control&&!this.states.has(le.Drag)&&this.isNotSync&&this.control.setValue(this.modelValue)}},methods:{isObjectData:function(i){return!!i&&Object.prototype.toString.call(i)==="[object Object]"},isObjectArrayData:function(i){return!!i&&Array.isArray(i)&&i.length>0&&mt(i[0])==="object"},bindEvent:function(){document.addEventListener("touchmove",this.dragMove,{passive:!1}),document.addEventListener("touchend",this.dragEnd,{passive:!1}),document.addEventListener("mousedown",this.blurHandle),document.addEventListener("mousemove",this.dragMove),document.addEventListener("mouseup",this.dragEnd),document.addEventListener("mouseleave",this.dragEnd),document.addEventListener("keydown",this.keydownHandle)},unbindEvent:function(){document.removeEventListener("touchmove",this.dragMove),document.removeEventListener("touchend",this.dragEnd),document.removeEventListener("mousedown",this.blurHandle),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd),document.removeEventListener("mouseleave",this.dragEnd),document.removeEventListener("keydown",this.keydownHandle)},setScale:function(){this.scale=new ae(Math.floor(this.isHorizontal?this.$el.offsetWidth:this.$el.offsetHeight)).multiply(this.zoom||1).divide(100).toNumber()},initControl:function(){var i=this;this.control=new Fn({value:this.modelValue,data:this.sliderData,enableCross:this.enableCross,fixed:this.fixed,max:this.max,min:this.min,interval:this.interval,minRange:this.minRange,maxRange:this.maxRange,order:this.order,marks:this.sliderMarks,included:this.included,process:this.process,adsorb:this.adsorb,dotOptions:this.dotOptions,onError:this.emitError}),["data","enableCross","fixed","max","min","interval","minRange","maxRange","order","marks","process","adsorb","included","dotOptions"].forEach(function(r){i.$watch(r,function(p){if(r==="data"&&Array.isArray(i.control.data)&&Array.isArray(p)&&i.control.data.length===p.length&&p.every(function(g,x){return g===i.control.data[x]}))return!1;switch(r){case"data":case"dataLabel":case"dataValue":i.control.data=i.sliderData;break;case"mark":i.control.marks=i.sliderMarks;break;default:i.control[r]=p}["data","max","min","interval"].indexOf(r)>-1&&i.control.syncDotsPos()})})},syncValueByPos:function(){var i=this.control.dotsValue;if(this.isDiff(i,Array.isArray(this.modelValue)?this.modelValue:[this.modelValue])){var r=i.length===1?i[0]:ft(i);this.$emit("change",r,this.focusDotIndex),this.$emit("update:modelValue",r)}},isDiff:function(i,r){return i.length!==r.length||i.some(function(p,g){return p!==r[g]})},emitError:function(i,r){this.silent||console.error("[VueSlider error]: ".concat(r)),this.$emit("error",i,r)},dragStartOnProcess:function(i){if(this.dragOnClick){this.setScale();var r=this.getPosByEvent(i),p=this.control.getRecentDot(r);if(this.dots[p].disabled)return;this.dragStart(p),this.control.setDotPos(r,this.focusDotIndex),this.lazy||this.syncValueByPos()}},dragStart:function(i){this.focusDotIndex=i,this.setScale(),this.states.add(le.Drag),this.states.add(le.Focus),this.$emit("drag-start",this.focusDotIndex)},dragMove:function(i){if(!this.states.has(le.Drag))return!1;i.preventDefault();var r=this.getPosByEvent(i);this.isCrossDot(r),this.control.setDotPos(r,this.focusDotIndex),this.lazy||this.syncValueByPos();var p=this.control.dotsValue;this.$emit("dragging",p.length===1?p[0]:ft(p),this.focusDotIndex)},isCrossDot:function(i){if(this.canSort){var r=this.focusDotIndex,p=i;if(p>this.dragRange[1]?(p=this.dragRange[1],this.focusDotIndex++):p<this.dragRange[0]&&(p=this.dragRange[0],this.focusDotIndex--),r!==this.focusDotIndex){var g=this.$refs["dot-".concat(this.focusDotIndex)];g&&g.$el&&g.$el.focus(),this.control.setDotPos(p,r)}}},dragEnd:function(i){var r=this;if(!this.states.has(le.Drag))return!1;setTimeout(function(){r.lazy&&r.syncValueByPos(),r.included&&r.isNotSync?r.control.setValue(r.modelValue):r.control.syncDotsPos(),r.states.delete(le.Drag),r.useKeyboard&&!("targetTouches"in i)||r.states.delete(le.Focus),r.$emit("drag-end",r.focusDotIndex)})},blurHandle:function(i){if(!this.states.has(le.Focus)||!this.$refs.container||this.$refs.container.contains(i.target))return!1;this.states.delete(le.Focus)},clickHandle:function(i){if(!this.clickable||this.disabled)return!1;if(!this.states.has(le.Drag)){this.setScale();var r=this.getPosByEvent(i);this.setValueByPos(r)}},focus:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;i.disabled||(this.states.add(le.Focus),this.focusDotIndex=r)},blur:function(){this.states.delete(le.Focus)},getValue:function(){var i=this.control.dotsValue;return i.length===1?i[0]:i},getIndex:function(){var i=this.control.dotsIndex;return i.length===1?i[0]:i},setValue:function(i){this.control.setValue(Array.isArray(i)?ft(i):[i]),this.syncValueByPos()},setIndex:function(i){var r=this,p=Array.isArray(i)?i.map(function(g){return r.control.getValueByIndex(g)}):this.control.getValueByIndex(i);this.setValue(p)},setValueByPos:function(i){var r=this,p=this.control.getRecentDot(i);if(this.disabled||this.dots[p].disabled)return!1;this.focusDotIndex=p,this.control.setDotPos(i,p),this.syncValueByPos(),this.useKeyboard&&this.states.add(le.Focus),setTimeout(function(){r.included&&r.isNotSync?r.control.setValue(r.modelValue):r.control.syncDotsPos()})},keydownHandle:function(i){var r=this;if(!this.useKeyboard||!this.states.has(le.Focus))return!1;var p=this.included&&this.marks,g=G(i,{direction:this.direction,max:p?this.control.markList.length-1:this.control.total,min:0,hook:this.keydownHook});if(g){i.preventDefault();var x=-1,M=0;p?(this.control.markList.some(function(T,ue){return T.value===r.control.dotsValue[r.focusDotIndex]&&(x=g(ue),!0)}),x<0?x=0:x>this.control.markList.length-1&&(x=this.control.markList.length-1),M=this.control.markList[x].pos):(x=g(this.control.getIndexByValue(this.control.dotsValue[this.focusDotIndex])),M=this.control.parseValue(this.control.getValueByIndex(x))),this.isCrossDot(M),this.control.setDotPos(M,this.focusDotIndex),this.syncValueByPos()}},getPosByEvent:function(i){return I(i,this.$el,this.isReverse,this.zoom)[this.isHorizontal?"x":"y"]/this.scale},renderSlot:function(i,r,p){var g=this.$slots[i];return g?g(r):p}},created:function(){this.initControl()},mounted:function(){this.bindEvent()},beforeUnmount:function(){this.unbindEvent()}}),bt=(0,A.Z)(ns,[["render",f]]);bt.VueSliderMark=be,bt.VueSliderDot=N;var ss=bt,is=ss}(),c=c.default,c}()})})(yn);var Fs=yn.exports;const bn=ks(Fs),Gs={name:"audioPlayerUiDesktop",mixins:[dt],components:{VueSlider:bn},data:function(){return{store:this.$store.state}},computed:{cover(){return this.makeCoverUrl(this.$store.getters.audioPlayerBook.cover,500)},progress:{get(){return this.store.audioPlayer.progress},set(e){this.$compEmitter.emit("audio-player-scrubbed",{target:{value:e}})}}},mounted(){this.$store.commit("prop",{key:"preventScrolling",value:!0})},beforeUnmount(){this.$store.commit("prop",{key:"preventScrolling",value:!1})},methods:{swipeHandler(){this.$store.commit("prop",{key:"showMobilePlayer",value:!1})}}},Ws={id:"audio-player"},Js={class:"inner-wrap"},Ys={class:"cover-wrap"},Ks={class:"cover-inner-wrap"},Xs=["src"],Qs={class:"bottom"},Zs={class:"player-timeline"},ei={class:"duration-wrapper"},ti={key:0,class:"time-display"},ni={key:1,class:"time-display"},si={class:"player-buttons"},ii={class:"play-pause"};function ri(e,t,n,s,o,a){const c=at("vue-slider"),d=vn,u=Hs,h=Ns,l=gn,m=De("touch");return ge((S(),C("div",Ws,[k("div",Js,[k("div",Ys,[t[6]||(t[6]=k("div",{class:"close-instructions"},[k("div",{class:"text"}," swipe down to close ")],-1)),k("div",Ks,[k("img",{class:"book-cover",src:a.cover,alt:"",draggable:"false"},null,8,Xs)]),k("div",{class:"book-cover-bg",style:He({backgroundImage:`url('${a.cover}')`})},null,4)]),k("div",Qs,[k("div",Zs,[q(c,{style:{width:"100%"},modelValue:a.progress,"onUpdate:modelValue":t[0]||(t[0]=y=>a.progress=y),tooltip:"none"},null,8,["modelValue"]),k("div",ei,[e.store.audioPlayer.timeDisplay?(S(),C("div",ti,me(e.store.audioPlayer.timeDisplay),1)):H("",!0),e.store.audioPlayer.timeDisplayLeft?(S(),C("div",ni,"-"+me(e.store.audioPlayer.timeDisplayLeft),1)):H("",!0)])]),e.$store.getters.audioPlayerTitle?(S(),C("div",{key:0,class:"book",onClick:t[1]||(t[1]=(...y)=>e.openBook&&e.openBook(...y))},[k("span",null,me(e.$store.getters.audioPlayerTitle),1)])):H("",!0),k("div",si,[k("div",{class:"back",onClick:t[2]||(t[2]=y=>e.$compEmitter.emit("audio-player-seek-back"))},[q(d)]),k("div",ii,[e.$store.state.audioPlayer.playing?(S(),C("div",{key:1,class:"pause",onClick:t[4]||(t[4]=y=>e.$compEmitter.emit("audio-player-pause"))},[q(h)])):(S(),C("div",{key:0,class:"play",onClick:t[3]||(t[3]=y=>e.$compEmitter.emit("audio-player-play"))},[q(u)]))]),k("div",{class:"forward",onClick:t[5]||(t[5]=y=>e.$compEmitter.emit("audio-player-seek-forward"))},[q(l)])])])])])),[[dn,e.store.audioPlayer.audio],[m,a.swipeHandler,"swipe",{bottom:!0}],[m,a.swipeHandler,"swipe",{top:!0}]])}const oi=pe(Gs,[["render",ri],["__scopeId","data-v-45479eb3"]]),ai={viewBox:"0 0 320 512",width:"0.76em",height:"1.2em"};function li(e,t){return S(),C("svg",ai,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256L34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941"},null,-1)]))}const ci=te({name:"fa-solid-chevron-right",render:li}),ui={viewBox:"0 0 320 512",width:"0.76em",height:"1.2em"};function di(e,t){return S(),C("svg",ui,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94"},null,-1)]))}const hi=te({name:"fa-solid-chevron-left",render:di}),pi={name:"backForwardBtns",props:["viewportFloat"],methods:{navigate:function(e){this.$store.state.navHistory[e].length>0&&(this.$store.commit("navHistory",{key:e,value:this.$route.name}),this.$router[e]())}}};function fi(e,t,n,s,o,a){const c=hi,d=ci;return S(),C("div",{class:de(["mobile-back-btns-wrapper",{"viewport-float":n.viewportFloat}])},[k("div",{class:de(["mobile-back-btns",{disabled:e.$store.state.navHistory.back.length<1}]),onClick:t[0]||(t[0]=Bt(u=>a.navigate("back"),["prevent"]))},[q(c)],2),k("div",{class:de(["mobile-back-btns",{disabled:e.$store.state.navHistory.forward.length<1}]),onClick:t[1]||(t[1]=Bt(u=>a.navigate("forward"),["prevent"]))},[q(d)],2)],2)}const kn=pe(pi,[["render",fi],["__scopeId","data-v-e15dd04d"]]),mi={viewBox:"0 0 448 512",width:"1.06em",height:"1.2em"};function gi(e,t){return S(),C("svg",mi,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16m0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16m0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16"},null,-1)]))}const vi=te({name:"fa-solid-bars",render:gi}),yi={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"};function bi(e,t){return S(),C("svg",yi,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M240 128a15.74 15.74 0 0 1-7.6 13.51L88.32 229.65a16 16 0 0 1-16.2.3A15.86 15.86 0 0 1 64 216.13V39.87a15.86 15.86 0 0 1 8.12-13.82a16 16 0 0 1 16.2.3l144.08 88.14A15.74 15.74 0 0 1 240 128"},null,-1)]))}const ki=te({name:"ph-play-fill",render:bi}),wi={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"};function _i(e,t){return S(),C("svg",wi,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34M208 336c-70.7 0-128-57.2-128-128c0-70.7 57.2-128 128-128c70.7 0 128 57.2 128 128c0 70.7-57.2 128-128 128"},null,-1)]))}const wn=te({name:"fa-solid-search",render:_i}),Si={name:"mobileMenuFloaters",props:["mobileMenuOpen","mobileThreshold"],data:function(){return{store:this.$store.state}},computed:{showMobilePlayerButton(){return!this.mobileMenuOpen&&this.mobileThreshold&&!this.store.showMobilePlayer&&this.store.audioPlayer.audio}}},$i={class:"second-row"};function xi(e,t,n,s,o,a){const c=wn,d=ki,u=kn,h=vi;return S(),C("div",{id:"mobile-menu-floaters",class:de({mobile:n.mobileMenuOpen})},[k("div",$i,[e.$store.state.searchMounted&&!n.mobileMenuOpen?(S(),C("div",{key:0,class:"search-btn",onClick:t[0]||(t[0]=l=>e.$emit("startSearching")),style:He({top:a.showMobilePlayerButton?"-93px":"-46px"})},[q(c)],4)):H("",!0),a.showMobilePlayerButton?(S(),C("div",{key:1,class:"mobile-player-button",onClick:t[1]||(t[1]=l=>{e.$store.commit("prop",{key:"showMobilePlayer",value:!0})})},[q(d)])):H("",!0),e.$store.state.displayMode&&!n.mobileMenuOpen?(S(),re(u,{key:2})):H("",!0),k("div",{class:"burger-menu",onClick:t[2]||(t[2]=l=>e.$emit("update:mobileMenuOpen",!n.mobileMenuOpen))},[q(h,{class:"brgr-btn"})])])],2)}const Ci=pe(Si,[["render",xi]]),Pi={viewBox:"0 0 352 512",width:"0.83em",height:"1.2em"};function Ei(e,t){return S(),C("svg",Pi,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48z"},null,-1)]))}const _n=te({name:"fa-solid-times",render:Ei}),Ri={viewBox:"0 0 320 512",width:"0.76em",height:"1.2em"};function Oi(e,t){return S(),C("svg",Ri,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M48 64C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm192 0c-26.5 0-48 21.5-48 48v288c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48z"},null,-1)]))}const Mi=te({name:"fa6-solid-pause",render:Oi}),Ai={viewBox:"0 0 384 512",width:"0.9em",height:"1.2em"};function Li(e,t){return S(),C("svg",Ai,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80v352c0 17.4 9.4 33.4 24.5 41.9S58.2 482 73 473l288-176c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41z"},null,-1)]))}const Ti=te({name:"fa6-solid-play",render:Li}),Ii={name:"audioPlayerUiDesktop",mixins:[dt],components:{VueSlider:bn},data:function(){return{store:this.$store.state}},watch:{"store.audioPlayer.audio"(e){this.$nextTick(()=>{this.$store.commit("prop",{key:"desktopPlayerHeight",value:e?this.$refs.player.offsetHeight/2+"px":null})})}},computed:{progress:{get(){return this.store.audioPlayer.progress},set(e){this.$compEmitter.emit("audio-player-scrubbed",{target:{value:e}})}}}},Di={id:"audio-player",ref:"player"},ji={class:"inner-wrap"},Bi={class:"player-innards"},Ni=["src","content"],Vi={key:0,class:"time-display left"},zi={key:1,class:"time-display right"},Hi={class:"player-buttons"};function Ui(e,t,n,s,o,a){const c=at("vue-slider"),d=Ti,u=Mi,h=_n,l=vn,m=gn,y=De("tippy");return ge((S(),C("div",Di,[k("div",ji,[k("div",Bi,[ge(k("img",{class:"book-cover",src:e.makeCoverUrl(e.$store.getters.audioPlayerBook.cover,280),alt:"",content:(e.$store.state.audioPlayer.sample?"<strong>sample</strong> | ":"")+e.$store.getters.audioPlayerTitle},null,8,Ni),[[y,{placement:"right",flipBehavior:["right","bottom"]}]]),e.store.audioPlayer.timeDisplay?(S(),C("div",Vi,me(e.store.audioPlayer.timeDisplay),1)):H("",!0),q(c,{style:{width:"100%"},modelValue:a.progress,"onUpdate:modelValue":t[0]||(t[0]=f=>a.progress=f),tooltip:"none"},null,8,["modelValue"]),e.store.audioPlayer.timeDisplayLeft?(S(),C("div",zi,"-"+me(e.store.audioPlayer.timeDisplayLeft),1)):H("",!0),k("div",Hi,[e.$store.state.audioPlayer.playing?(S(),C("div",{key:1,class:"pause",onClick:t[2]||(t[2]=f=>e.$compEmitter.emit("audio-player-pause"))},[q(u)])):(S(),C("div",{key:0,class:"play",onClick:t[1]||(t[1]=f=>e.$compEmitter.emit("audio-player-play"))},[q(d)])),k("div",{class:"stop",onClick:t[3]||(t[3]=f=>e.$compEmitter.emit("audio-player-stop"))},[q(h)]),k("div",{class:"back",onClick:t[4]||(t[4]=f=>e.$compEmitter.emit("audio-player-seek-back"))},[q(l)]),k("div",{class:"forward",onClick:t[5]||(t[5]=f=>e.$compEmitter.emit("audio-player-seek-forward"))},[q(m)])])])])],512)),[[dn,e.store.audioPlayer.audio]])}const qi=pe(Ii,[["render",Ui],["__scopeId","data-v-96ba0de8"]]),Fi={viewBox:"0 0 640 512",width:"1.5em",height:"1.2em"};function Gi(e,t){return S(),C("svg",Fi,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l112.2-112.3c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0z"},null,-1)]))}const Wi=te({name:"fa6-solid-link",render:Gi}),Ji={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"};function Yi(e,t){return S(),C("svg",Ji,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M640 384v256H384V384zm64 0h192v256H704zm-64 512H384V704h256zm64 0V704h192v192zm-64-768v192H384V128zm64 0h192v192H704zM320 384v256H128V384zm0 512H128V704h192zm0-768v192H128V128z"},null,-1)]))}const Sn=te({name:"ep-grid",render:Yi}),Ki={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Xi(e,t){return S(),C("svg",Ki,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M4 3h16a2 2 0 0 1 2 2v15a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m0 4v3h4V7zm6 0v3h4V7zm10 3V7h-4v3zM4 12v3h4v-3zm0 8h4v-3H4zm6-8v3h4v-3zm0 8h4v-3h-4zm10 0v-3h-4v3zm0-8h-4v3h4z"},null,-1)]))}const Qi=te({name:"mdi-table-large",render:Xi}),Zi={name:"ViewModeSwitcher",props:["justIcon"],data:function(){return{sticky:this.$store.state.sticky,viewModes:["grid","spreadsheet"]}},methods:{changeViewMode:function(){let e=_.findIndex(this.viewModes,n=>n===this.sticky.viewMode);e+1>this.viewModes.length-1?e=0:e=e+1;const t=this.viewModes[e];this.$store.commit("stickyProp",{key:"viewMode",value:t}),this.$updateQueries({y:null,view:t})}}},er=["content"];function tr(e,t,n,s,o,a){const c=Qi,d=Sn,u=De("tippy");return ge((S(),C("div",{class:de(["view-mode-switcher icon",{"no-style":n.justIcon}]),onClick:t[0]||(t[0]=(...h)=>a.changeViewMode&&a.changeViewMode(...h)),content:"Change to <strong>"+(e.sticky.viewMode==="grid"?"spreadsheet":"grid")+"</strong> view"},[e.sticky.viewMode==="grid"?(S(),re(c,{key:0,class:"icon"})):e.sticky.viewMode==="spreadsheet"?(S(),re(d,{key:1,class:"icon"})):H("",!0)],10,er)),[[u,{allowHTML:!0}]])}const nr=pe(Zi,[["render",tr]]),sr={props:["float"],methods:{startSearching(){this.$compEmitter.emit("ios-auto-zoom-disable"),this.$compEmitter.emit("search-focus")}}};function ir(e,t,n,s,o,a){const c=wn,d=De("tippy");return e.$store.state.searchMounted,ge((S(),C("div",{key:0,class:de(["search-btn icon",{float:n.float}]),onClick:t[0]||(t[0]=(...u)=>a.startSearching&&a.startSearching(...u)),content:`
    Click to scroll up and search. <br>
    Read about advanced search operators 
    <a target="_blank" rel="noopener noreferrer" href="https://joonaspaakko.gitbook.io/audible-library-extractor/gallery/advanced-search">
      here
    </a>.`},[q(c)],2)),[[d,{interactive:!0,allowHTML:!0}]])}const rr=pe(sr,[["render",ir],["__scopeId","data-v-88363c59"]]),or={viewBox:"0 0 384 512",width:"0.9em",height:"1.2em"};function ar(e,t){return S(),C("svg",or,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M223.5 32C100 32 0 132.3 0 256s100 224 223.5 224c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"},null,-1)]))}const lr=te({name:"fa6-solid-moon",render:ar}),cr={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"};function ur(e,t){return S(),C("svg",cr,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391l-19.9 107.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391L13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256L2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121l19.9-107.9c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1l90.3-62.3c4.5-3.1 10.2-3.7 15.2-1.6M160 256a96 96 0 1 1 192 0a96 96 0 1 1-192 0m224 0a128 128 0 1 0-256 0a128 128 0 1 0 256 0"},null,-1)]))}const dr=te({name:"fa6-solid-sun",render:ur}),hr={name:"lightSwitch",data:function(){return{tippyContent:""}},created:function(){this.lightSwitchToggle(!0)},methods:{lightSwitchToggle:function(e){e?this.autoLightsOff():(this.$store.commit("stickyProp",{key:"lightSwitch",value:this.$store.state.sticky.lightSwitch?0:1}),this.$store.state.sticky.lightSwitchSetByUser||this.$store.commit("stickyProp",{key:"lightSwitchSetByUser",value:!0}));const t=document.querySelector("html");t.classList.remove("theme-light"),t.classList.remove("theme-dark"),t.classList.add(this.$store.state.sticky.lightSwitch?"theme-light":"theme-dark")},autoLightsOff:function(){window.matchMedia("(prefers-color-scheme)").media!=="not all"&&this.$store.state.sticky.lightSwitch&&!this.$store.state.sticky.lightSwitchSetByUser&&this.$store.commit("stickyProp",{key:"lightSwitch",value:0})}}},pr={class:"light-switch text-button"};function fr(e,t,n,s,o,a){const c=dr,d=lr;return S(),C("div",pr,[k("div",{class:"icon",onClick:t[0]||(t[0]=u=>a.lightSwitchToggle(!1))},[e.$store.state.sticky.lightSwitch?(S(),re(c,{key:0})):(S(),re(d,{key:1}))])])}const mr=pe(hr,[["render",fr],["__scopeId","data-v-d2b8d0cb"]]),gr={name:"menuLooper",props:["routes","childRoutes","mobileMenuOpen","inRoot","desktopMenu"],data:function(){return{menuOpen:!0,copiedToClipboard:!1}},methods:{getHrefAttr(e){return e.tag==="a"?"href":"to"},itemActive(e){const t=this.$route.name;return t===e.name||_.find(e.children,{name:t})?"router-link-active":null},subItemActive(e){const t=this.$route.name;return _.find(e.childItems,function(s){return t===s.name||_.find(s.children,{name:t})})?"router-link-active":null},getRoutePath(e){return _.get(e,"path")?{name:_.get(e,"name")||_.get(e,"children[0].name"),query:{refresh:!0}}:_.get(e,"href")},getRouteName(e){if(e.altName)return e.altName(e);{const t=_.get(e,"children[0].meta.title")||_.get(e,"children[0].name")||e.name;return _.get(e,"meta.nestedGroup")==="extension-tools"?t:_.startCase(t)}},closeMenu(){this.menuOpen=!1,this.$nextTick(function(){this.menuOpen=!0})},additionalClick(e){this.mobileMenuOpen?this.$emit("update:mobileMenuOpen",!this.mobileMenuOpen):this.$emit("closeMenu")},copyToClipboard(){navigator.clipboard.writeText(window.location.href);const e=_.get(this.$refs,"copyToClipboard.$el");e._tippy.show(),setTimeout(()=>{e._tippy.hide()},2e3)}}},vr={key:0},yr={key:1,class:"mobile-menu-top-spacer"},br=["onClick"],kr={key:0,class:"menu-item-icon"},wr=["innerHTML"],_r={key:0,class:"sub-menu"},Sr={key:2,class:"menu-icon-toolbar"},$r={key:0},xr={key:1},Cr={key:2};function Pr(e,t,n,s,o,a){const c=at("menuLooper"),d=mr,u=rr,h=nr,l=Wi,m=qi,y=De("tippy");return S(),C("div",{class:de(["menu-items",{"has-sub-menu":n.childRoutes,mobileMenu:n.mobileMenuOpen}])},[e.menuOpen?(S(),C("div",vr,[n.mobileMenuOpen?(S(),C("div",{key:0,class:"mobile-menu-top-filler",onClick:t[0]||(t[0]=f=>e.$emit("update:mobileMenuOpen",!n.mobileMenuOpen))})):H("",!0),n.mobileMenuOpen?(S(),C("div",yr)):H("",!0),(S(!0),C(Te,null,Ie(n.routes,f=>ge((S(),re(hn(f.tag||"router-link"),cs({tabindex:"0",key:f.path,[a.getHrefAttr(f)||""]:a.getRoutePath(f),target:f.href?"_blank":null,class:["menu-item",[f.meta.groupName,a.itemActive(f),a.subItemActive(f),f.disabled||f.condition&&!f.condition()?"disabled":"",f.highlight?"highlight":"null"]],content:typeof f.tippy=="function"?f.tippy():f.tippy,onClick:$=>f.click?f.click(f):null}),{default:Et(()=>[k("div",{class:"menu-item-inner",onClick:$=>a.additionalClick(f)},[f.meta.icon?(S(),C("span",kr,[k("i",{class:de(f.meta.icon)},null,2)])):H("",!0),k("span",{class:"menu-item-text",innerHTML:a.getRouteName(f)},null,8,wr)],8,br),f.childItems?(S(),C("div",_r,[q(c,{routes:f.childItems,childRoutes:f.childItems,onCloseMenu:a.closeMenu},null,8,["routes","childRoutes","onCloseMenu"])])):H("",!0)]),_:2},1040,["target","class","content","onClick"])),[[y,{placement:"left",flipBehavior:["left","top","bottom"],maxWidth:400}]])),128)),n.inRoot?(S(),C("div",Sr,[k("div",null,[q(d)]),n.mobileMenuOpen?H("",!0):(S(),C("div",$r,[q(u)])),n.mobileMenuOpen?(S(),C("div",xr,[e.$store.state.searchMounted?(S(),re(h,{key:0,justIcon:!0})):H("",!0)])):H("",!0),n.mobileMenuOpen?(S(),C("div",Cr,[ge(q(l,{class:"icon",onClick:t[1]||(t[1]=f=>a.copyToClipboard()),content:"Page URL copied to clipboard!",ref:"copyToClipboard"},null,512),[[y,{trigger:"manual"}]])])):H("",!0)])):H("",!0)])):H("",!0),n.inRoot&&n.desktopMenu?(S(),re(m,{key:1})):H("",!0)],2)}const Er=pe(gr,[["render",Pr],["__scopeId","data-v-a8113643"]]),Rr={name:"modal",props:["toggled"],data:function(){return{modalOpen:!0}},created:function(){},mounted(){this.$store.commit("prop",{key:"preventScrolling",value:!0})},beforeUnmount(){this.$store.commit("prop",{key:"preventScrolling",value:!1})},methods:{close:function(){this.$emit("closeModal")},closeOverlay:function(e){let t=this;(e.target===this.$refs.modalGrandpa||e.target===this.$refs.modalPapa)&&t.close()}}},Or={class:"outer-wrap",ref:"modalPapa"},Mr={class:"inner-wrap"};function Ar(e,t,n,s,o,a){const c=_n,d=De("shortkey");return S(),C("div",{id:"modal-wrapper",ref:"modalGrandpa",onClick:t[2]||(t[2]=(...u)=>a.closeOverlay&&a.closeOverlay(...u))},[k("div",Or,[k("div",Mr,[us(e.$slots,"default"),ge((S(),C("div",{class:"close-btn",onClick:t[0]||(t[0]=(...u)=>a.close&&a.close(...u)),onShortkey:t[1]||(t[1]=(...u)=>a.close&&a.close(...u))},[q(c)],32)),[[d,["esc"],void 0,{once:!0}]])])],512)],512)}const ht=pe(Rr,[["render",Ar]]),Lr={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function Tr(e,t){return S(),C("svg",Lr,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M8 0c4.42 0 8 3.58 8 8a8.01 8.01 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38c0-.27.01-1.13.01-2.2c0-.75-.25-1.23-.54-1.48c1.78-.2 3.65-.88 3.65-3.95c0-.88-.31-1.59-.82-2.15c.08-.2.36-1.02-.08-2.12c0 0-.67-.22-2.2.82c-.64-.18-1.32-.27-2-.27s-1.36.09-2 .27c-1.53-1.03-2.2-.82-2.2-.82c-.44 1.1-.16 1.92-.08 2.12c-.51.56-.82 1.28-.82 2.15c0 3.06 1.86 3.75 3.64 3.95c-.23.2-.44.55-.51 1.07c-.46.21-1.61.55-2.33-.66c-.15-.24-.6-.83-1.23-.82c-.67.01-.27.38.01.53c.34.19.73.9.82 1.13c.16.45.68 1.31 2.69.94c0 .67.01 1.3.01 1.49c0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8"},null,-1)]))}const Ir=te({name:"octicon-mark-github16",render:Tr}),Dr={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"};function jr(e,t){return S(),C("svg",Dr,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32v242.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64v-32c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352zm368 56a24 24 0 1 1 0 48a24 24 0 1 1 0-48"},null,-1)]))}const $n=te({name:"fa6-solid-download",render:jr}),Br={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Nr(e,t){return S(),C("svg",Br,t[0]||(t[0]=[ds('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="2 4" stroke-dashoffset="6" d="M12 3c4.97 0 9 4.03 9 9c0 4.97 -4.03 9 -9 9"><animate attributeName="stroke-dashoffset" dur="0.6s" repeatCount="indefinite" values="6;0"></animate></path><path stroke-dasharray="32" stroke-dashoffset="32" d="M12 21c-4.97 0 -9 -4.03 -9 -9c0 -4.97 4.03 -9 9 -9"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.1s" dur="0.4s" values="32;0"></animate></path><path stroke-dasharray="10" stroke-dashoffset="10" d="M12 8v7.5"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.5s" dur="0.2s" values="10;0"></animate></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 15.5l3.5 -3.5M12 15.5l-3.5 -3.5"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.7s" dur="0.2s" values="6;0"></animate></path></g>',1)]))}const Vr=te({name:"line-md-downloading-loop",render:Nr}),zr={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"};function Hr(e,t){return S(),C("svg",zr,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"m173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69L432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001"},null,-1)]))}const xn=te({name:"fa-solid-check",render:Hr}),Ur={name:"saveGallery",components:{modal:ht},data:function(){return{files:[],dataSources:[{checked:!0,disabled:!1,key:"Library"},{checked:!0,disabled:!1,key:"Categories",parent:["Library","Wishlist"],subPage:!0},{checked:!0,disabled:!1,key:"Authors",parent:["Library","Wishlist"],subPage:!0},{checked:!0,disabled:!1,key:"Publishers",parent:["Library","Wishlist"],subPage:!0},{checked:!0,disabled:!1,key:"Series",parent:["Library","Wishlist"],subPage:!0},{checked:!0,disabled:!1,key:"Narrators",parent:["Library","Wishlist"],subPage:!0},{checked:!0,disabled:!1,key:"Collections",parent:"Library"},{checked:!0,disabled:!1,key:"Podcasts",parent:"Library"},{checked:!0,disabled:!1,key:"Archived",extra:!0,tippy:'If unchecked, the "archive" collection and all archived books are excluded from the export.',parent:"Library"},{checked:!0,disabled:!1,key:"Wishlist"},{checked:!0,disabled:!1,key:"My Reviews",parent:["Library"]},{checked:!0,disabled:!1,key:"spacer-1",spacer:!0}],zip:null,cacheBuster:null,bundling:!1,saveBtnEnabled:!0,progressWidth:null,iconSize:20}},created:function(){this.files=window.chunksFilePaths,this.$store.state.sticky.exportSettingsGallery&&_.each(this.$store.state.sticky.exportSettingsGallery,o=>{var a=_.find(this.dataSources,{key:o.key});a&&(a.checked=o.checked,a.disabled=o.disabled)});let e=_.find(this.dataSources,{key:"Library"});e.disabled=!this.$store.state.library.books;let t=_.find(this.dataSources,{key:"Wishlist"});t.disabled=!this.$store.state.library.wishlist;let n=_.find(this.dataSources,{key:"Podcasts"});n.disabled=_.isEmpty(this.$store.getters.podcasts);let s=_.find(this.dataSources,{key:"My Reviews"});s.disabled=_.isEmpty(this.$store.state.library.userReviews)},mounted:function(){let e=this;this.iconSize=this.$refs.textWrapper.offsetHeight,e.$store.getters.saveStandaloneAfter&&this.$nextTick(function(){try{let t=JSON.parse(JSON.stringify(e.$store.state.extractSettings)),n=_.find(t.extraSettings,{name:"saveStandaloneAfter"});n.deactivated=!0,this.$store.commit("prop",{key:"extractSettings",value:t}),chrome.storage.local.set({config:t}).then(function(){e.saveButtonClicked()})}catch{}})},beforeUnmount:function(){this.zip=null,this.cacheBuster=null},computed:{chunkSource:function(){return _.chunk(this.dataSources,4)}},methods:{cancelZipping:function(){window.location.reload()},divideLargerDatapoints:function(e,t){let n=this;_.each(t,function(s){let o="";s.peopleAlsoBought&&s.asin&&(o+="window.peopleAlsoBoughtJSON = "+JSON.stringify(s.peopleAlsoBought)+`; 
`,delete s.peopleAlsoBought),s.summary&&s.asin&&(o+="window.bookSummaryJSON = "+JSON.stringify(s.summary)+`; 
`,delete s.summary),o!==""&&e.file("data/split-book-data/"+s.asin+"."+n.cacheBuster+".js",o)})},saveButtonClicked:async function(){const e=this;if(!(this.bundling||this.$store.state.devMode))try{e.bundling=!0,e.$store.commit("prop",{key:"bundlingGallery",value:!0}),e.cacheBuster=this.runCachebuster(),e.zip=new JSZip;const t=e.zip;t.file(".nojekyll","");let n=this.excludeData(JSON.parse(JSON.stringify(this.$store.state.library)));n.extras.cacheID=e.cacheBuster;let s={books:!!_.get(n,"books.0"),series:!!_.get(n,"series.0"),collections:!!_.get(n,"collections.0"),podcasts:!_.isEmpty(_.filter(n?.books,"podcastParent")),wishlist:!!_.get(n,"wishlist.0"),extras:n.extras,userReviews:!!_.get(n,"userReviews.0")},o=`
          if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.${e.cacheBuster}.js')
            .then(function(registration) {
              console.log('Registration successful, scope is:', registration.scope);
            })
            .catch(function(error) {
              console.log('Service worker registration failed, error:', error);
            });
          }
        `;o=!1?"<script>"+o+"<\/script>":"";const c=function(h,l){let m="^assets\\/"+h+"\\..+\\."+(l||"js")+"$";return m=new RegExp(m),_.find(e.files,y=>y.match(m))},d='<!DOCTYPE html><html lang="en" class="theme-dark standalone-gallery" style="background: #171717; min-height: 100%;"><head><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="favicons/apple-splash-dark-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta http-equiv="Cache-control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"><link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png"><link rel="manifest" href="app.webmanifest"><link rel="mask-icon" href="favicons/safari-pinned-tab.svg" color="#f29a33"><link rel="shortcut icon" href="favicons/favicon.ico"><meta name="msapplication-TileColor" content="#222222"><meta name="msapplication-config" content="favicons/browserconfig.xml"><meta name="theme-color" content="#f29a33"><title>My Audible Library</title>'+o+'<link id="ale-css" rel="stylesheet" href="'+c("gallery","css")+'"></head><body><div id="audible-library-extractor" data-version="'+this.$store.state.version+'" data-cache-id="'+e.cacheBuster+'"></div><script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"><\/script><script id="ale-js" src="'+c("gallery","js")+'" type="module"><\/script><noscript>This library requires javascript to work!</noscript></body></html>';t.file("index.html",d),t.file("ALE-Documentation.url",`[InternetShortcut]
URL=https://joonaspaakko.gitbook.io/audible-library-extractor/`),n.wishlist&&n.books?this.divideLargerDatapoints(t,_.unionBy(n.books,n.wishlist,"asin")):(n.wishlist&&this.divideLargerDatapoints(t,n.wishlist),n.books&&this.divideLargerDatapoints(t,n.books)),t.file("data/temp-data."+e.cacheBuster+".js","window.tempDataJSON = "+JSON.stringify(s)+";"),s.books&&t.file("data/library."+e.cacheBuster+".js","window.libraryJSON = "+JSON.stringify(n.books)+";"),s.collections&&t.file("data/collections."+e.cacheBuster+".js","window.collectionsJSON = "+JSON.stringify(n.collections)+";"),s.series&&t.file("data/series."+e.cacheBuster+".js","window.seriesJSON = "+JSON.stringify(n.series)+";"),s.wishlist&&t.file("data/wishlist."+e.cacheBuster+".js","window.wishlistJSON = "+JSON.stringify(n.wishlist)+";"),console.log("tempData.userReviews",s.userReviews),s.userReviews&&t.file("data/userReviews."+e.cacheBuster+".js","window.userReviewsJSON = "+JSON.stringify(n.userReviews)+";"),_.remove(e.files,function(h){const l=h.replace(/^assets\//,"");if(l==="gallery.html")return!0;const m=[!!l.match(/^gallery/),!!l.match(/^content-script-helpers/),!!l.match(/^howler/),!!l.match(/^lodash/),!!l.match(/^jszip/),!!l.match(/^tippy/),!!l.match(/^jquery/),!!l.match(/^fuse.esm/),!!l.match(/^index\..*\.js$/),!!l.match(/^Roboto/i),!!l.match(/^Inconsolata/i),!!l.match(/^vendor/i),!!l.match(/^vue\.runtime\.esm-bundler/i),!!l.match(/^fa-.+(woff2?|ttf)/)];return!_.includes(m,!0)}),e.files=e.files.concat(["favicons/android-chrome-192x192.png","favicons/android-chrome-512x512.png","favicons/apple-touch-icon.png","favicons/browserconfig.xml","favicons/favicon-16x16.png","favicons/favicon-32x32.png","favicons/favicon.ico","favicons/mstile-150x150.png","favicons/safari-pinned-tab.svg","favicons/apple-splash-dark-2436-1125.jpg","favicons/apple-splash-dark-2532-1170.jpg","favicons/apple-splash-dark-2048-1536.jpg","favicons/apple-splash-dark-1620-2160.jpg","favicons/apple-splash-dark-2796-1290.jpg","favicons/apple-splash-dark-750-1334.jpg","favicons/apple-splash-dark-1179-2556.jpg","favicons/apple-splash-dark-1792-828.jpg","favicons/apple-splash-dark-1284-2778.jpg","favicons/apple-splash-dark-1668-2224.jpg","favicons/apple-splash-dark-1242-2688.jpg","favicons/apple-splash-dark-2224-1668.jpg","favicons/apple-splash-dark-2732-2048.jpg","favicons/apple-splash-dark-1334-750.jpg","favicons/apple-splash-dark-1136-640.jpg","favicons/apple-splash-dark-2778-1284.jpg","favicons/apple-splash-dark-1290-2796.jpg","favicons/apple-splash-dark-2208-1242.jpg","favicons/apple-splash-dark-2388-1668.jpg","favicons/apple-splash-dark-2048-2732.jpg","favicons/apple-splash-dark-2160-1620.jpg","favicons/apple-splash-dark-1536-2048.jpg","favicons/apple-splash-dark-1668-2388.jpg","favicons/apple-splash-dark-1170-2532.jpg","favicons/apple-splash-dark-1242-2208.jpg","favicons/apple-splash-dark-1125-2436.jpg","favicons/apple-splash-dark-640-1136.jpg","favicons/apple-splash-dark-2556-1179.jpg","favicons/apple-splash-dark-828-1792.jpg","favicons/apple-splash-dark-2688-1242.jpg","app.webmanifest"]);for(let h of e.files){const l=await JSZipUtils.getBinaryContent(h);t.file(h,l,{binary:!0})}const u=await t.generateAsync({type:"blob",streamFiles:!0},function(l){e.progressWidth=l.percent+"%"});saveAs(u,"ALE-gallery.zip")}finally{setTimeout(function(){e.bundling=!1,e.$store.commit("prop",{key:"bundlingGallery",value:!1}),e.progressWidth=0},1e3)}},sourceChecked:function(e,t){let n=this,s=_.filter(this.dataSources,function(a){return _.isArray(a.parent)?_.includes(a.parent,t.key):a.parent===t.key});_.each(s,function(a){if(_.isArray(a.parent)){let c=_.map(a.parent,function(u){return _.find(n.dataSources,{key:u})}),d=_.filter(c,function(u){return u.checked&&!u.disabled}).length>0;a.disabled=!e.target.checked&&!d}else a.disabled=!e.target.checked});let o=_.filter(this.dataSources,{checked:!0,disabled:!1});this.saveBtnEnabled=!!o.length,this.$store.commit("stickyProp",{key:"exportSettingsGallery",value:this.dataSources})},excludeData:function(e){let t=this;return _.each(this.dataSources,function(n){var s=n.key.toLowerCase(),o=!n.checked||n.disabled;switch(n.key){case"Library":o&&(delete e.books,delete e.series,delete e.collections);break;case"Series":o&&delete e.series;break;case"Collections":o&&delete e.collections;break;case"My Reviews":o&&delete e.userReviews;break;case"Wishlist":o&&delete e.wishlist;break;case"Podcasts":if(o){const a=_.get(e,"books");_.remove(a,c=>_.get(c,"format")==="Podcast"||_.get(c,"podcastParent"))}break;case"Archived":if(o){let a=_.filter(t.$store.state.library.books,c=>_.includes(c.collectionIds,"__ARCHIVE"));a=_.map(a,"asin"),_.remove(e.books,c=>_.includes(c.collectionIds,"__ARCHIVE")),e.series&&(_.each(e.series,function(c){c.books.length&&_.remove(c.books,function(d){return _.includes(a,d)}),c.allBooks.length&&_.each(c.allBooks,function(d){_.includes(a,d.asin)&&(d.notInLibrary=!0)})}),_.remove(e.series,function(c){return c.books.length===0})),_.each(e.collections,function(c){_.remove(c.books,function(d){return _.includes(a,d)})}),_.remove(e.collections,function(c){return c.id==="__ARCHIVE"})}break}n.subPage&&(e.extras.subPageStates=e.extras.subPageStates||[],e.extras.subPageStates.push({key:s,enabled:!o}))}),e},serviceWorker:function(){return`
      importScripts('https://storage.googleapis.com/workbox-cdn/releases/6.1.5/workbox-sw.js');

      workbox.setConfig({
        debug: false,
      });

      const {registerRoute} = workbox.routing;
      const {
        NetworkFirst,
        StaleWhileRevalidate,
        CacheFirst
      } = workbox.strategies;
      const CacheableResponsePlugin = workbox.cacheableResponse.CacheableResponsePlugin;
      const ExpirationPlugin = workbox.expiration.ExpirationPlugin;

      // Cache page navigations (html) with a Network First strategy
      registerRoute(
        // Check to see if the request is a navigation to a new page
        ({ request }) => request.mode === 'navigate',
        // Use a Network First caching strategy
        new NetworkFirst({
          // Put all cached files in a cache named 'pages'
          cacheName: 'pages',
          plugins: [
            // Ensure that only requests that result in a 200 status are cached
            new CacheableResponsePlugin({
              statuses: [200],
            }),
          ],
        }),
      );

      // Cache CSS, JS, and Web Worker requests with a Stale While Revalidate strategy
      registerRoute(
        // Check to see if the request's destination is style for stylesheets, script for JavaScript, or worker for web worker
        ({ request }) =>
          request.destination === 'style' ||
          request.destination === 'script' ||
          request.destination === 'worker',
        // Use a Stale While Revalidate caching strategy
        new StaleWhileRevalidate({
          // Put all cached files in a cache named 'assets'
          cacheName: 'assets',
          plugins: [
            // Ensure that only requests that result in a 200 status are cached
            new CacheableResponsePlugin({
              statuses: [200],
            }),
          ],
        }),
      );

      // Cache images with a Cache First strategy
      registerRoute(
        // Check to see if the request's destination is style for an image
        ({ url, request }) =>
          (request.destination === 'image' && url.origin !== 'https://m.media-amazon.com') ||
          (request.destination === 'image' && url.origin === 'https://m.media-amazon.com' && !url.href.match(/_SL200_/) && !url.href.match(/_SL150_/)),
        // Use a Cache First caching strategy
        new CacheFirst({
          // Put all cached files in a cache named 'images'
          cacheName: 'images',
          plugins: [
            // Ensure that only requests that result in a 200 status are cached
            new CacheableResponsePlugin({
              statuses: [200],
            }),
            // Don't cache more than 50 items, and expire them after 30 days
            new ExpirationPlugin({
              maxEntries: 50,
              maxAgeSeconds: 60 * 60 * 24 * 30, // 30 Days
            }),
          ],
        }),
      );

      // Cache the Google Fonts stylesheets with a stale-while-revalidate strategy.
      registerRoute(
        ({url}) => url.origin === 'https://fonts.googleapis.com',
        new StaleWhileRevalidate({
          cacheName: 'google-fonts-stylesheets',
        })
      );

      // Cache the underlying font files with a cache-first strategy for 1 year.
      registerRoute(
        ({url}) => url.origin === 'https://fonts.gstatic.com',
        new CacheFirst({
          cacheName: 'google-fonts-webfonts',
          plugins: [
            new CacheableResponsePlugin({
              statuses: [0, 200],
            }),
            new ExpirationPlugin({
              maxAgeSeconds: 60 * 60 * 24 * 365,
              maxEntries: 30,
            }),
          ],
        })
      );
      `},runCachebuster:function(){return new Date().getTime()}}},qr={class:"top-wrapper"},Fr={class:"text-wrapper",ref:"textWrapper"},Gr={class:"options opt-groups"},Wr=["data-extra","content"],Jr=["disabled","onUpdate:modelValue","onChange"],Yr={class:"visual-checkbox"},Kr={class:"icon"},Xr={class:"buttons-footer"},Qr={class:"btn-wrapper"},Zr={key:0,style:{color:"#999","font-weight":"bold","margin-bottom":"5px"}},eo=["disabled"],to={key:0},no={class:"github-btn",target:"_blank",rel:"noopener noreferrer",href:"https://joonaspaakko.gitbook.io/audible-library-extractor/sharing/uploading-to-github"},so={class:"github-btn",target:"_blank",rel:"noopener noreferrer",href:"https://joonaspaakko.gitbook.io/audible-library-extractor/sharing/uploading-to-github/updating-gallery-in-github"};function io(e,t,n,s,o,a){const c=Sn,d=xn,u=Vr,h=$n,l=Ir,m=ht,y=De("tippy");return S(),re(m,{onCloseModal:t[2]||(t[2]=f=>e.$emit("closeComp"))},{default:Et(()=>[k("div",{class:de(["export-group",{bundling:e.bundling}])},[k("div",qr,[k("div",{class:"icon-wrapper",style:He({fontSize:e.iconSize/1.2+"px",lineHeight:e.iconSize/1.2+"px",paddingRight:e.iconSize/2.5+"px"})},[q(c)],4),k("div",Fr,t[3]||(t[3]=[k("h2",null,"Stand-alone gallery",-1),k("div",{class:"description"}," This saves the gallery as a web page that can be uploaded online and shared with others. ",-1)]),512)]),t[8]||(t[8]=k("h3",null,"Include:",-1)),k("div",Gr,[(S(!0),C(Te,null,Ie(a.chunkSource,(f,$)=>(S(),C("div",{class:de(["opt-group",["group-"+$]]),key:$},[(S(!0),C(Te,null,Ie(f,(v,b)=>ge((S(),C("label",{key:v.key,class:de(["item-"+b,v.disabled?"disabled":null,v.spacer?"hide-spacer":null]),"data-extra":v.extra,content:v.tippy},[ge(k("input",{type:"checkbox",disabled:v.disabled,"onUpdate:modelValue":R=>v.checked=R,onChange:R=>a.sourceChecked(R,v)},null,40,Jr),[[pn,v.checked]]),k("div",Yr,[k("span",Kr,[q(d)])]),k("span",null,me(v.key),1)],10,Wr)),[[y]])),128))],2))),128))]),k("div",Xr,[k("div",Qr,[e.$store.state.devMode?(S(),C("div",Zr,t[4]||(t[4]=[Ze(" Saving the standalone gallery is only possible "),k("br",null,null,-1),Ze(' in "production" builds ('),k("code",null,"yarn vite build",-1),Ze(") ")]))):H("",!0),k("button",{class:de(["save-btn save-gallery",{saving:e.bundling}]),onClick:t[1]||(t[1]=(...f)=>a.saveButtonClicked&&a.saveButtonClicked(...f)),disabled:!e.$store.state.devMode&&(e.bundling||!e.saveBtnEnabled)},[k("span",null,[e.bundling?(S(),C("strong",to,"Packaging:")):H("",!0),t[5]||(t[5]=Ze(" ALE-gallery.zip"))]),e.bundling?(S(),re(u,{key:0})):(S(),re(h,{key:1})),e.bundling&&e.progressWidth?(S(),C("div",{key:2,class:"progress",style:He({width:e.progressWidth})},null,4)):H("",!0),e.bundling?(S(),C("button",{key:3,class:"cancel-packaging",onClick:t[0]||(t[0]=(...f)=>a.cancelZipping&&a.cancelZipping(...f))},"cancel")):H("",!0)],10,eo),k("div",null,[k("a",no,[t[6]||(t[6]=k("span",null,"Upload instructions",-1)),q(l)]),k("a",so,[t[7]||(t[7]=k("span",null,"Update instructions",-1)),q(l)])])])])],2)]),_:1})}const ro=pe(Ur,[["render",io],["__scopeId","data-v-fe47ea1d"]]),oo={viewBox:"0 0 576 512",width:"1.36em",height:"1.2em"};function ao(e,t){return S(),C("svg",oo,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M352 224h-46.5c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8h-2.5c-2.4 0-4.8-.4-7.1-1.4C210.8 374.8 128 333.4 128 240c0-79.5 64.5-144 144-144h80V34.7C352 15.5 367.5 0 386.7 0c8.6 0 16.8 3.2 23.2 8.9l138.2 124.4c7.6 6.8 11.9 16.5 11.9 26.7s-4.3 19.9-11.9 26.7l-139 125.1c-5.9 5.3-13.5 8.2-21.4 8.2H384c-17.7 0-32-14.3-32-32zM80 96c-8.8 0-16 7.2-16 16v320c0 8.8 7.2 16 16 16h320c8.8 0 16-7.2 16-16v-48c0-17.7 14.3-32 32-32s32 14.3 32 32v48c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V112c0-44.2 35.8-80 80-80h48c17.7 0 32 14.3 32 32s-14.3 32-32 32z"},null,-1)]))}const lo=te({name:"fa6-solid-share-from-square",render:ao}),co={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"};function uo(e,t){return S(),C("svg",co,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5"},null,-1)]))}const ho=te({name:"fa6-solid-circle-notch",render:uo}),po={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function fo(e,t){return S(),C("svg",po,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2"},null,-1)]))}const mo=te({name:"ic-baseline-circle",render:fo}),go={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"};function vo(e,t){return S(),C("svg",go,t[0]||(t[0]=[k("path",{fill:"currentColor",d:"M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64zm384 64H256V0zM200 352h16c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8h-16c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40h-16c-22.1 0-40-17.9-40-40v-80c0-22.1 17.9-40 40-40m133.1 0H368c8.8 0 16 7.2 16 16s-7.2 16-16 16h-34.9c-7.2 0-13.1 5.9-13.1 13.1c0 5.2 3 9.9 7.8 12l37.4 16.6c16.3 7.2 26.8 23.4 26.8 41.2c0 24.9-20.2 45.1-45.1 45.1H304c-8.8 0-16-7.2-16-16s7.2-16 16-16h42.9c7.2 0 13.1-5.9 13.1-13.1c0-5.2-3-9.9-7.8-12l-37.4-16.6c-16.3-7.2-26.8-23.4-26.8-41.2c0-24.9 20.2-45.1 45.1-45.1m98.9 0c8.8 0 16 7.2 16 16v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V368c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V368c0-8.8 7.2-16 16-16"},null,-1)]))}const yo=te({name:"fa6-solid-file-csv",render:vo}),bo={methods:{stringifyArray:function(e,t,n){return Array.isArray(e)?t?e.map(function(s){return s[t]}).join(n||", "):e.join(", "):e||""}}},Cn={methods:{slugify:function(e){if(!e)return console.error("Failed to slugify string:","type:",typeof e,"string:",e),"";const t="/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",s=new RegExp(t.split("").join("|"),"g");return encodeURIComponent(e.toString().toLowerCase().replace(/\s+/g,"-").replace(s,o=>n.charAt(t.indexOf(o))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}}},ko={mixins:[Cn],methods:{makeFullUrl:function(e){const t=new ct(this.$store.state.urlOrigin+e);return t.query.ipRedirectOverride=!0,t.query.overrideBaseCountry=!0,t.toString()},makeUrl:function(e,t,n){const s=this.$store.state,o=this.$store.state.urlOrigin;let a="";if(n&&!s.sticky.detailLinksToAudible){const c=_.get(this.$route,"meta.subPage"),d=this.$route.name==="wishlist"?"wishlist":"library",u=c?this.$store.state.sticky.subPageSource:d;switch(e){case"store":case"book":a=o+"/pd/"+encodeURIComponent(t);let h=new ct(a);h.query.ipRedirectOverride=!0,h.query.overrideBaseCountry=!0,a=h.toString();break;case"author":a={name:"author",params:{author:t.url||this.slugify(t.name)},query:{subPageSource:u,refresh:!0}};break;case"narrator":a={name:"narrator",params:{narrator:this.slugify(t.name)},query:{subPageSource:u,refresh:!0}};break;case"series":a={name:"series",params:{series:t.asin},query:{subPageSource:u,refresh:!0}};break;case"publisher":a={name:"publisher",params:{publisher:this.slugify(t.name)},query:{subPageSource:u,refresh:!0}};break;case"tags":a={name:u,query:{filterExtras:`tags:${t.name}`,refresh:!0}};break;case"categories":const l={};l.current=_.get(t,"name"),l.currentIndex=_.findIndex(n,{name:l.current});const m=l.currentIndex===0,y=l.currentIndex===1;l.parent=m?l.current:_.get(n,"0.name"),m?l.child=void 0:l.child=y?l.current:_.get(n,"1.name"),a={name:"category",params:{parent:l.parent?this.slugify(l.parent):void 0,child:l.child?this.slugify(l.child):void 0},query:{subPageSource:u,refresh:!0}};break}}else switch(e){case"store":case"book":a=o+"/pd/"+encodeURIComponent(t);break;case"author":t.url?a=o+"/author/"+(t.url||this.slugify(t.name)):a=o+"/search?searchAuthor="+encodeURIComponent(t.name);break;case"narrator":t.name&&(a=o+"/search?searchNarrator="+encodeURIComponent(t.name));break;case"series":t.asin&&(a=o+"/series/"+t.asin);break;case"publisher":t.name&&(a=o+"/search?searchProvider="+encodeURIComponent(t.name));break;case"categories":case"tags":t.url&&(a=o+"/cat/"+t.url);break}if(a){if(n&&!s.sticky.detailLinksToAudible)return a;{let c=new ct(a);return c.query.ipRedirectOverride=!0,c.query.overrideBaseCountry=!0,c.toString()}}else return""}}},wo={methods:{prepareKeys:function(e){e=e||{};let t=e.collection||_.get(this.$store.state,this.$store.state.collectionSource),n=_.union(_.flatten(_.map(t,c=>_.keys(c))));n=n.concat(["isbn10","isbn13"]);let s=["added","title","series","bookNumbers","authors","narrators","tags","categories","length","progress","releaseDate","publishers","myRating","rating","ratings","favorite","format","language","whispersync","fromPlusCatalog","unavailable","archived","downloaded","storePageChanged","storePageMissing"];e.priorityKeys&&(s=e.priorityKeys);let o=_.remove(n,function(c){return!_.includes(s,c)});n=s.concat(o),s=null,o=null;let a=["titleShort","sample","blurb","url","summary","moreLikeThis","peopleAlsoBought","asin","cover","sample","cover","isbns"];return n=_.remove(n,function(c){return!_.includes(e.removeKeys||a,c)}),n}}},_o={methods:{makeGoodReadsUrl:function(e){e=e||this.book;const t=e.authors?e.authors[0].name+" - ":e.obj&&e.obj.authors?e.obj.authors[0].name+" - ":"";let n=(t&&e.titleShort?e.titleShort:e.title)||"";const s=t+n;return e.titleShort||e.title?"https://www.goodreads.com/search?q="+encodeURIComponent(s):null}}},So={name:"saveCsv",mixins:[bo,dt,ko,wo,Cn,_o],components:{modal:ht},data:function(){return{settings:{dataSourcesChecked:"Library",dataSources:[{key:"Library",description:'Export library data as spreadsheet. Uses default sorting "added": new books at the top.'},{key:"Wishlist",description:'Export wishlist data as spreadsheet.  Uses default sorting "added": new books at the top.'},{key:"Current page",description:"Export contents from any page with books. Active: search, filtering, and sorting affect this source."}],compatibilityChecked:"Google Sheets",compatibility:[{key:"Raw data",description:"Raw data with no special formulas, so it will work in any spreadsheet application."},{key:"Google Sheets",description:`Adds Google Sheets compatible formulas that add icons and links. If you don't like the formulas, you can use of course "raw data" instead.`},{key:"Goodreads",description:"This spreadsheet includes Goodreads relevant columns and removes any books that don't have ISBNs since Goodreads won't import books without them. Book status determines the bookshelve: not started (to-read), started(currently-reading), finished (read). Book categories are divided into shelves as well."}],goodreadsIdentifier:[{key:"ISBN",checked:!0,clicked:!1,description:"You need to do the ISBN extraction in your Audible Library in order to use this."},{key:"ASIN",checked:!0,clicked:!1,description:"These days Goodreads accepts imports with ASIN, which in this case will give you an exact match."},{key:"MERGE",checked:!0,clicked:!1,description:"Goodreads will add one book per matched identifier, so with all 3 you can potentially add 3 duplicate entries. This merge option will pick just one of them in this order of priority: ISBN 10, ISBN 13, ASIN. <br><br>The potential issue with this is that we have no way of knowing which one of these identifiers actually matches a book. So you by <strong>unchecking</strong> this option you risk getting multiple duplicates and by cecking <strong>checking</strong> it, you risk getting less matches with fewer duplicates. <br><br>Removing duplicates in Goodreads is very time consuming when you have more than like 10. I have ~1000 books and I got like 300 duplicates without this merge option."}]},bundling:!1,iconSize:20}},mounted:function(){this.$store.state.sticky.exportSettingsCSVdataSources&&(this.settings.dataSourcesChecked=this.$store.state.sticky.exportSettingsCSVdataSources),this.$store.state.sticky.exportSettingsCSVcompatibility&&(this.settings.compatibilityChecked=this.$store.state.sticky.exportSettingsCSVcompatibility),this.$store.state.sticky.exportSettingsGoodreadsIdentifier&&(this.settings.goodreadsIdentifier=this.$store.state.sticky.exportSettingsGoodreadsIdentifier),this.iconSize=this.$refs.textWrapper.offsetHeight},computed:{dataSourceActive(){return _.find(this.settings.dataSources,{key:this.settings.dataSourcesChecked})},compatibilityActive(){return _.find(this.settings.compatibility,{key:this.settings.compatibilityChecked})},activeGoodreadsIdentifiers(){return _.filter(this.settings.goodreadsIdentifier,{checked:!0})},GoodreadsIdentifiersClicked(){return _.find(this.settings.goodreadsIdentifier,{clicked:!0})},googleSheets:function(){return this.settings.compatibilityChecked==="Google Sheets"},filename:function(){let e="";if(this.settings.dataSourcesChecked==="Library")e="library";else if(this.settings.dataSourcesChecked==="Wishlist")e="wishlist";else if(this.settings.dataSourcesChecked==="Current page"){let t=this.$store.state.pageTitle?this.slugify(this.$store.state.pageTitle):null,n=this.$route.name;e=t||n}return e!==""&&(e="-"+e),"ALE-spreadsheet"+e+".csv"},dataSource:function(){switch(this.settings.dataSourcesChecked){case"Library":return this.$store.state.library.books;case"Wishlist":return this.$store.state.library.wishlist;case"Current page":return this.$store.getters.collection}},saveBtnEnabled:function(){if(this.settings.dataSourcesChecked==="Current page"){if(this.$route.meta.gallery)return!0}else return this.settings.dataSourcesChecked==="Wishlist"&&this.settings.compatibilityChecked==="Goodreads"?!1:this.dataSource&&this.dataSource.length>0}},methods:{saveButtonClicked:function(){if(!this.bundling){const e=this;e.bundling=!0;let t=JSON.parse(JSON.stringify(this.dataSource)),n=this.prepKeys(t),s=Papa.unparse({fields:_.map(n,function(o){return _.includes(["isbn","isbn10","isbn13","asin"],o)?o.toUpperCase():_.startCase(o)}),data:this.processData(n,t),quotes:!1,quoteChar:'"',escapeChar:'"',delimiter:",",header:!0,newline:`\r
`,skipEmptyLines:!1,columns:null});saveAs(new File([s],this.filename,{type:"text/csv;charset=utf-8"})),setTimeout(function(){e.bundling=!1},1e3)}},inputChanged:function(e,t,n){this.$store.state.sticky.exportSettingsCSVdataSources!==this.settings.dataSourcesChecked&&this.$store.commit("stickyProp",{key:"exportSettingsCSVdataSources",value:this.settings.dataSourcesChecked}),this.$store.state.sticky.exportSettingsCSVcompatibility!==this.settings.compatibilityChecked&&this.$store.commit("stickyProp",{key:"exportSettingsCSVcompatibility",value:this.settings.compatibilityChecked}),t&&n&&(_.each(n,s=>{s.clicked=!1}),t.clicked=!0,this.$store.commit("stickyProp",{key:"exportSettingsGoodreadsIdentifier",value:this.settings.goodreadsIdentifier}))},processData:function(e,t){let n=this;return this.$store.state.sticky.exportSettingsCSVcompatibility==="Goodreads"?this.processDataGoodreads(e,t):_.map(t,function(s){return _.map(e,function(o){switch(o){case"authors":case"narrators":case"categories":case"publishers":case"tags":return n.stringifyArray(s[o],"name",o==="categories"?" > ":null)||"";case"series":let a=s.series;return a&&(a=_.map(a,function(v){let b=v.bookNumbers?" (book "+v.bookNumbers.join(", ")+")":"";return v.name+b}).join(", ")),a;case"bookNumbers":let c=_.filter(s.series,"bookNumbers");return c=_.map(c,"bookNumbers"),c=_.flatten(c),_.isEmpty(c)?c=null:_.isArray(c)&&(c=c.join(", ")),c=c||"",n.googleSheets&&(c="'"+c),s.series?c:"";case"isbn10":const d=_.find(s.isbns,{type:"ISBN_10"});return d?n.googleSheets?"'"+d.identifier:d.identifier:"";case"isbn13":const u=_.find(s.isbns,{type:"ISBN_13"});return u?n.googleSheets?"'"+u.identifier:u.identifier:"";case"peopleAlsoBought":return s.peopleAlsoBought?n.stringifyArray(s.peopleAlsoBought,"title"):"";case"summary":return s.summary?s.summary.replace(/(\n|\r)/g):"";case"cover":let h=s.cover?n.makeCoverUrl(s.cover):"";return s.cover&&h&&s.asin&&n.googleSheets&&(h=n.googleSheetsLinkifyImage(n.makeUrl("book",s.asin),n.makeCoverUrl(s.cover,75),0)),h;case"title":let l=s[o]||s.titleShort||"";return l&&s.asin&&n.googleSheets&&(l=n.googleSheetsLinkify(l,n.makeUrl("book",s.asin))),l;case"titleShort":let m=s[o]||s.title||"";return m&&s.asin&&n.googleSheets&&(m=n.googleSheetsLinkify(m,n.makeUrl("book",s.asin))),m;case"sample":let y=s[o]||"";return y&&n.googleSheets&&(y=n.googleSheetsLinkifyImage(y,"https://i.imgur.com/R2N6OTy.png",20)),y;case"searchInGoodreads":let f=n.makeGoodReadsUrl(s);return f&&n.googleSheets&&(f=n.googleSheetsLinkifyImage(f,"https://i.imgur.com/RPJRqNX.png",20)),f||"";case"webPlayer":let $=s.asin?"https://www.audible.com/webplayer?asin="+s.asin:"";return $&&n.googleSheets&&($=n.googleSheetsLinkifyImage($,"https://i.imgur.com/PdFLCdl.png",20)),$||"";case"parentCategory":return s.categories&&s.categories[0]?s.categories[0].name:"";case"childCategory":return s.categories&&s.categories[1]?s.categories[1].name:"";case"storePage":return s.asin?n.makeUrl("book",s.asin):"";case"asin":case"length":case"progress":case"myRating":case"rating":case"ratings":case"isbn":case"isbn10":case"isbn13":return n.googleSheets?"'"+(s[o]||""):s[o]||"";case"storePageUrl":return s.asin?n.makeUrl("book",s.asin):"";default:return s[o]||""}})})},googleSheetsLinkify:function(e,t){return'=HYPERLINK("'+t+'";"'+e.replace(/\"/g,'""')+'")'},googleSheetsLinkifyImage:function(e,t,n){n=n||0;let s=n?"; 4; "+n+"; "+n:"";return'=HYPERLINK("'+e+'"; IMAGE("'+t+'"'+s+"))"},googleSheetsImagefy:function(e,t){t=t||0;let n=t?"; 4; "+t+"; "+t:"";return'=IMAGE("'+e+'"'+n+")"},processDataGoodreads:function(e,t){let n=this;const s={merge:_.find(this.activeGoodreadsIdentifiers,{key:"MERGE",checked:!0}),ASIN:_.find(this.activeGoodreadsIdentifiers,{key:"ASIN",checked:!0}),ISBN:_.find(this.activeGoodreadsIdentifiers,{key:"ISBN",checked:!0})};return _.map(t,function(o){let a=[];const c={isbn10:_.get(_.find(o.isbns,{type:"ISBN_10"}),"identifier"),isbn13:_.get(_.find(o.isbns,{type:"ISBN_13"}),"identifier"),asin:o.asin};return s.merge&&s.ASIN&&s.ISBN?c.isbn10?a.push("isbn10"):c.isbn13?a.push("isbn13"):c.asin&&a.push("asin"):s.merge&&s.ISBN?c.isbn10?a.push("isbn10"):c.isbn13&&a.push("isbn13"):s.ISBN?(c.isbn10&&a.push("isbn10"),c.isbn13&&a.push("isbn13")):s.asin?c.asin&&a.push("asin"):a=["asin","isbn10","isbn13"],_.map(e,function(d){switch(d){case"title":return o.title||o.titleShort||"";case"author":case"publisher":return o[d+"s"]&&n.stringifyArray([o[d+"s"][0]],"name")||"";case"myRating":return o.myRating||"";case"averageRating":return o.rating||"";case"binding":return"Audible Audio";case"yearPublished":return(o.releaseDate||"").split("-")[0];case"dateAdded":let u=new Date,h=u.getTimezoneOffset();return u=new Date(u.getTime()-h*60*1e3),u.toISOString().split("T")[0];case"bookshelves":let l=[],m=!o.progress,y=!!(o.progress&&!o.progress.toLowerCase().match("finished")),f=!!(o.progress&&o.progress.toLowerCase().match("finished")),$=m?"to-read":y?"currently-reading":f?"read":"to-read";l.push($),l.push("audible"),l.push("audiobook"),o.fromPlusCatalog&&l.push("audible-plus");let v=o.categories&&o.categories[0]?o.categories[0].name:null;v&&l.push(n.slugify(v));let b=o.categories&&o.categories[1]?o.categories[1].name:null;return b&&l.push(n.slugify(b)),l.join(" ");case"isbn":return _.includes(a,"isbn10")?c.isbn10:"";case"isbn13":return _.includes(a,"isbn13")?c.isbn13:"";case"asin":return _.includes(a,"asin")?c.asin:"";default:return""}})})},prepKeys:function(e){let t=[];switch(this.settings.compatibilityChecked){case"Google Sheets":case"Raw data":let s=["added","cover","sample","webPlayer","searchInGoodreads","title","titleShort","series","bookNumbers","blurb","authors","narrators","tags","categories","parentCategory","childCategory","length","progress","releaseDate","publishers","myRating","rating","ratings","favorite","format","language","whispersync","fromPlusCatalog","unavailable","archived","downloaded","storePageChanged","storePageMissing","asin","isbn10","isbn13","summary","peopleAlsoBought"];const o=this.settings.compatibilityChecked==="Raw data";if(o&&s.push("storePageUrl"),o){var n=["sample","webPlayer","cover","searchInGoodreads"];s=_.remove(s,function(a){return!_.includes(n,a)}),s=s.concat(n)}t=this.prepareKeys({collection:e||[],removeKeys:["isbns"],priorityKeys:s});break;case"Goodreads":t=["dateRead","myReview","title","bookshelves","author","publisher","myRating","averageRating","binding","yearPublished","dateAdded","isbn","isbn13","asin"];break}return t}}},$o={class:"export-group"},xo={class:"top-wrapper"},Co={class:"text-wrapper",ref:"textWrapper"},Po={class:"options"},Eo=["value"],Ro={class:"visual-radiobutton"},Oo={class:"icon"},Mo={class:"description",style:{"margin-top":"10px"}},Ao={class:"options"},Lo=["value"],To={class:"visual-radiobutton"},Io={class:"icon"},Do={class:"description",style:{"margin-top":"10px"}},jo={key:0},Bo={class:"options"},No=["onUpdate:modelValue","onChange"],Vo={class:"visual-checkbox"},zo={class:"icon"},Ho={key:0,class:"description",style:{"margin-top":"10px"}},Uo=["innerHTML"],qo={class:"buttons-footer"},Fo={class:"btn-wrapper"},Go=["disabled"],Wo={class:"github-btn",target:"_blank",rel:"noopener noreferrer",href:"https://joonaspaakko.gitbook.io/audible-library-extractor/gallery/csv-export/google-sheets-import"},Jo={class:"github-btn",target:"_blank",rel:"noopener noreferrer",href:"https://joonaspaakko.gitbook.io/audible-library-extractor/gallery/csv-export/goodreads-import"};function Yo(e,t,n,s,o,a){const c=yo,d=mo,u=xn,h=ho,l=$n,m=lo,y=ht;return S(),re(y,{onCloseModal:t[5]||(t[5]=f=>e.$emit("closeComp"))},{default:Et(()=>[k("div",$o,[k("div",xo,[k("div",{class:"icon-wrapper",style:He({fontSize:e.iconSize/1.2+"px",lineHeight:e.iconSize/1.2+"px",paddingRight:e.iconSize/2.5+"px"})},[q(c)],4),k("div",Co,t[6]||(t[6]=[k("h2",null," Spreadsheet",-1),k("div",{class:"description"}," CSV is a generic file format for tabular data that is supported by any proper spreadsheet application. ",-1)]),512)]),t[11]||(t[11]=k("h3",null,"Data source:",-1)),k("div",Po,[(S(!0),C(Te,null,Ie(e.settings.dataSources,f=>(S(),C("label",{key:f.key},[ge(k("input",{type:"radio",name:"dataSources","onUpdate:modelValue":t[0]||(t[0]=$=>e.settings.dataSourcesChecked=$),value:f.key,onChange:t[1]||(t[1]=(...$)=>a.inputChanged&&a.inputChanged(...$))},null,40,Eo),[[Nt,e.settings.dataSourcesChecked]]),k("div",Ro,[k("div",Oo,[q(d)])]),k("span",null,me(f.key),1)]))),128))]),k("div",Mo,me(a.dataSourceActive.description),1),t[12]||(t[12]=k("h3",null,"Format:",-1)),k("div",Ao,[(S(!0),C(Te,null,Ie(e.settings.compatibility,f=>(S(),C("label",{key:f.key},[ge(k("input",{type:"radio",name:"compatibility","onUpdate:modelValue":t[2]||(t[2]=$=>e.settings.compatibilityChecked=$),value:f.key,onChange:t[3]||(t[3]=(...$)=>a.inputChanged&&a.inputChanged(...$))},null,40,Lo),[[Nt,e.settings.compatibilityChecked]]),k("div",To,[k("div",Io,[q(d)])]),k("span",null,me(f.label||f.key),1)]))),128))]),k("div",Do,me(a.compatibilityActive.description),1),e.settings.compatibilityChecked==="Goodreads"?(S(),C("div",jo,[t[8]||(t[8]=k("h3",null,"Goodreads identifier:",-1)),k("div",Bo,[(S(!0),C(Te,null,Ie(e.settings.goodreadsIdentifier,f=>(S(),C("label",{key:f.key},[ge(k("input",{type:"checkbox",name:"goodreadsIdentifier","onUpdate:modelValue":$=>f.checked=$,onChange:$=>a.inputChanged($,f,e.settings.goodreadsIdentifier)},null,40,No),[[pn,f.checked]]),k("div",Vo,[k("span",zo,[q(u)])]),k("span",null,me(f.label||f.key),1)]))),128))]),a.GoodreadsIdentifiersClicked?(S(),C("div",Ho,[k("strong",null,me(a.GoodreadsIdentifiersClicked.key)+":",1),t[7]||(t[7]=Ze()),k("span",{innerHTML:a.GoodreadsIdentifiersClicked.description},null,8,Uo)])):H("",!0)])):H("",!0),k("div",qo,[k("div",Fo,[k("button",{class:de(["save-btn save-csv",{saving:e.bundling}]),onClick:t[4]||(t[4]=(...f)=>a.saveButtonClicked&&a.saveButtonClicked(...f)),disabled:e.bundling||!a.saveBtnEnabled},[k("span",null,me(a.filename),1),e.bundling?(S(),re(h,{key:0,spin:""})):(S(),re(l,{key:1}))],10,Go),k("div",null,[k("a",Wo,[t[9]||(t[9]=k("span",null,"Google Sheets import",-1)),q(m)]),k("a",Jo,[t[10]||(t[10]=k("span",null,"Goodreads import",-1)),q(m)])])])])])]),_:1})}const Ko=pe(So,[["render",Yo],["__scopeId","data-v-bae619db"]]),Xo={name:"aleMenuActions",data:function(){return{store:this.$store.state,mobileMenuOpen:!1,sampleData:null,subMenuActive:null,routeAvailable:{},loading:!0,routes:null,clickedRoute:null}},computed:{clickedRouteComp(){const e=_.get(this.clickedRoute,"meta.component");if(e)return{...e}},mobileThreshold(){return this.$store.getters.mobileThreshold}},watch:{"$store.state.playingAudio":function(){this.globalTopNavHeight(this.mobileSize)},mobileThreshold(e){this.mobileMenuOpen=!1,this.routes=this.getRoutes(),this.globalTopNavHeight(e)},mobileMenuOpen(e){this.$store.commit("prop",{key:"preventScrolling",value:e}),this.routes=this.getRoutes()},clickedRouteComp(e){this.$store.commit("prop",{key:"preventScrolling",value:e})}},created(){this.routes=this.getRoutes()},mounted:function(){this.loading=!1,this.globalTopNavHeight(this.mobileSize)},beforeUnmount:function(){},methods:{startSearching(){this.$compEmitter.emit("ios-auto-zoom-disable"),this.$compEmitter.emit("search-focus")},getRoutes(){let e=_.filter(this.$router.options.routes,"meta.icon");return e=JSON.parse(JSON.stringify(e)),this.mobileThreshold||(this.getExtraItems(e),this.getNestedGroups(e)),e},getNestedGroups(e){const t=this,n=this.getNestedIndexes(e);let s=_.remove(e,function(o){return _.get(o,"meta.nestedGroup")});s=_.groupBy(s,"meta.nestedGroup"),_.each(s,function(o,a){const c=_.find(n,{key:a});c&&e.splice(c.index,0,t.getSubPageSettings(o,a))})},getSubPageSettings(e,t){const n=this,s={name:t,meta:{groupName:e[0].meta.nestedGroup,icon:"fa-solid fa-chevron-down"},tag:"div",childItems:_.orderBy(e,"meta.order","asc")};switch(e[0].meta.nestedGroup){case"subPages":s.altName=function(a){const c=_.get(n.$route,"meta.title"),d="children.0.meta.title",u=_.find(e,[d,c]);if(u){const h=n.$route.query.subPageSource||n.$store.state.sticky.subPageSource;return _.startCase(h)+": "+_.get(u,d)}else return _.startCase(t)};break}return s},getNestedIndexes(e){e=_.clone(e);const t=[];return _.remove(e,function(n){const s=_.get(n,"meta.nestedGroup"),o=!_.includes(t,s);if(s)if(o)t.push(s);else return!0}),_.each(t,function(n,s){const o=_.findIndex(e,{meta:{nestedGroup:n}});t[s]={key:n,index:o}}),t},getExtraItems(e){const t=this;let n=[];if(!this.$store.state.standalone){const s=[{tag:"a",href:this.$store.state.urlOrigin+"/library",name:"Open Audible library",disabled:!1,meta:{icon:"fa-brands fa-audible",nestedGroup:"extension-tools"}},{tag:"a",href:"https://joonaspaakko.gitbook.io/audible-library-extractor/",name:"Extension documentation",disabled:!1,meta:{icon:"fa-solid fa-graduation-cap",nestedGroup:"extension-tools"}},{highlight:!0,tag:"div",name:"Save gallery website",disabled:!1,click:this.routeClick,meta:{icon:"fa-solid fa-download",nestedGroup:"extension-tools",component:ro}},{highlight:!0,tag:"div",name:"CSV export&nbsp;<small>(spreadsheet)</small>",disabled:!1,click:this.routeClick,meta:{icon:"fa-solid fa-file-csv",nestedGroup:"extension-tools",component:Ko}},{highlight:!0,tag:"div",name:"Wallpaper creator",disabled:!1,click:function(o){if(o.condition())try{let a=_.filter(t.$store.getters.collection,"asin");a=JSON.parse(JSON.stringify(a)),a=_.chunk(a,50);let c={imageEditorChunks:a,imageEditorChunksLength:a.length,imageEditorTimeCode:new Date().getTime()};t.$store.state.pageTitle&&(c.imageEditorPageTitle=t.$store.state.pageTitle),t.$store.state.pageSubTitle&&(c.imageEditorPageSubTitle=t.$store.state.pageSubTitle),chrome.storage.local.set(c).then(()=>{chrome.runtime.sendMessage({action:"openImageEditor"})})}catch{}},condition:function(){return t.$route.meta.gallery&&t.$store.getters.collection&&t.$store.getters.collection.length},tippy:function(){let o="When you open wallpaper creator, books are imported from the current page with the active sorting. Search and filters also affect what gets imported.";const a=!(t.$route.meta.gallery&&t.$store.getters.collection&&t.$store.getters.collection.length),c=_.filter(t.$store.getters.collection,"cover");return a?o+="<br><br> <strong style='color: #db7e00; font-size: 19px;'>Can't be opened on pages that don't have any books.</strong>":o+="<br><br> <strong style='color: #db7e00;'>Current selection of books "+t.$store.getters.collection.length+" / "+t.$store.getters.collectionTotal+". <br> Importable book covers: <span style='color: #50a900;'>"+c.length+"</span></strong>",o},meta:{icon:"fa-regular fa-image",nestedGroup:"extension-tools"}},{tag:"div",name:"Set as gallery landing page",tippy:"Click here and any links leading to the extension gallery (in browser context menu or extraction settings) will open this exact page. The url will be saved as is, so all url parameters will be saved as well. This includes: searches, filters, sorting, and some other things. <br><br>For example, open the library page, filter out finished books, click this menu item, and now you don't have to do that every time you open the gallery, if that is what you prefer...",disabled:!1,click:function(o){try{const a=window.location.pathname,c="."+a+window.location.href.split(a)[1];chrome.runtime.sendMessage({action:"changeGalleryUrl",url:c}).then(()=>{chrome.storage.local.get(["extras"]).then(d=>{d.extras.galleryUrl=c,chrome.storage.local.set({extras:d.extras}).then(()=>{})})})}catch{}},meta:{icon:"fa-solid fa-house-user",nestedGroup:"extension-tools"}},{tag:"div",name:"Reset gallery landing page",disabled:!1,click:function(o){try{chrome.runtime.sendMessage({action:"changeGalleryUrl",url:null}).then(()=>{chrome.storage.local.get(["extras"]).then(c=>{c.extras.galleryUrl=null,chrome.storage.local.set({extras:c.extras}).then(()=>{})})})}catch{}},meta:{icon:"fa-solid fa-house",nestedGroup:"extension-tools"}}];n=n.concat(s)}n.length&&_.each(n,function(s){e.push(s)})},routeClick(e){this.clickedRoute=e},globalTopNavHeight(e){this.$nextTick(function(){let t=0;if(!e){const n=this.$refs.navigation;n&&(t=Math.floor(n.getBoundingClientRect().height))}this.$store.commit("prop",{key:"topNavOffset",value:t})})}}},Qo={id:"ale-navigation",ref:"navigation"},Zo={key:0,class:"floater-components"};function ea(e,t,n,s,o,a){const c=Er,d=Ci,u=kn,h=oi;return e.loading?H("",!0):(S(),C("div",{key:0,id:"nav-outer-wrapper",class:de({regular:!a.mobileThreshold,"mobile-nav":a.mobileThreshold,"mobile-nav-open":e.mobileMenuOpen})},[k("div",Qo,[q(c,{routes:e.routes,mobileMenuOpen:e.mobileMenuOpen,"onUpdate:mobileMenuOpen":t[0]||(t[0]=l=>e.mobileMenuOpen=l),inRoot:!0,desktopMenu:!e.mobileMenuOpen},null,8,["routes","mobileMenuOpen","desktopMenu"]),a.mobileThreshold?H("",!0):(S(),C("div",Zo,[a.clickedRouteComp?(S(),re(hn(a.clickedRouteComp),{key:0,onCloseComp:t[1]||(t[1]=l=>e.clickedRoute=null)},null,32)):H("",!0)]))],512),a.mobileThreshold?(S(),re(d,{key:0,mobileMenuOpen:e.mobileMenuOpen,"onUpdate:mobileMenuOpen":t[2]||(t[2]=l=>e.mobileMenuOpen=l),mobileThreshold:a.mobileThreshold,onStartSearching:a.startSearching},null,8,["mobileMenuOpen","mobileThreshold","onStartSearching"])):H("",!0),e.$store.state.displayMode&&!a.mobileThreshold?(S(),re(u,{key:1,viewportFloat:!0})):H("",!0),a.mobileThreshold&&e.store.showMobilePlayer?(S(),re(h,{key:2})):H("",!0)],2))}const ta=pe(Xo,[["render",ea]]),na={name:"aleBackground",mixins:[dt],data:function(){return{coverSource:null,books:null,booksLength:null,windowWidth:null,timer1:null,timer2:null}},mounted:function(){this.windowWidth=window.innerWidth,this.books=this.getBooks(),this.flipAnimationRandomizer(),this.$compEmitter.on("afterWindowResize",this.onWindowResize)},beforeUnmounted:function(){this.$compEmitter.off("afterWindowResize",this.onWindowResize),clearInterval(this.timer1),clearInterval(this.timer2)},methods:{bgGridSize:function(){let e=t(15);this.windowWidth<530?e=t(5):this.windowWidth<760?e=t(6):this.windowWidth<1e3?e=t(8):this.windowWidth<1300&&(e=t(12));function t(n){return 6*n}return e},getBooks:function(){const e=this.bgGridSize();this.coverSource=this.$store.state.library.books?this.$store.state.library.books:this.$store.state.library.wishlist;let t=function(n){const s=n.length;if(s<=e){const o=Math.floor(e/s),a=e-s*o,c=o;let d=[];for(let u=0;u<c;u++)d=d.concat(n);return a>0&&(d=d.concat(n.splice(-1,a))),d}else return _.sampleSize(n,e)}(_.filter(this.coverSource,"cover"));return t=_.map(t,function(n){let s=_.pick(n,["cover"]);return s.flipOut=!1,s}),this.booksLength=t.length,t},flipAnimationRandomizer:function(){const e=this;clearInterval(e.timer1),clearInterval(e.timer2),e.timer1=setInterval(function(){e.coverSwitcheroo()},e.randomNumber(1500,3e3)),e.timer2=setInterval(function(){e.coverSwitcheroo()},e.randomNumber(3500,5e3))},coverSwitcheroo:function(){const e=this,t=this.randomNumber(0,this.booksLength-1),n=this.books[t];n.flipOut=!0,setTimeout(function(){const s=_.filter(e.coverSource,"cover"),o=e.randomNumber(0,s.length-1),a=s[o];n.cover=a.cover,n.flipOut=!1},850)},randomNumber:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},onWindowResize:function(e){e.widthChanged&&(this.windowWidth=e.width,this.books=this.getBooks())}}},sa={key:0,id:"ale-background"},ia=["src"];function ra(e,t,n,s,o,a){return e.books?(S(),C("div",sa,[(S(!0),C(Te,null,Ie(e.books,(c,d)=>(S(),C("div",{key:c.cover+d,class:de(["image-wrapper",{"flip-out":c.flipOut}])},[k("img",{crossorigin:"anonymous",src:e.makeCoverUrl(c.cover,200),alt:""},null,8,ia)],2))),128)),t[0]||(t[0]=k("div",{class:"dimmer-overlay"},null,-1))])):H("",!0)}const oa=pe(na,[["render",ra],["__scopeId","data-v-9efdc404"]]),aa={name:"audioPlayerGlobal",data:function(){return{store:this.$store.state,howler:null}},watch:{"store.audioPlayer.audio"(e){e?this.initPlayer():this.destroyHowler()}},computed:{audio:{get(){return this.store.audioPlayer.audio},set(e){this.$store.commit("prop",{key:"audioPlayer.audio",value:e})}},timeDisplay:{get(){return this.store.audioPlayer.timeDisplay},set(e){this.$store.commit("prop",{key:"audioPlayer.timeDisplay",value:e})}},timeDisplayLeft:{get(){return this.store.audioPlayer.timeDisplayLeft},set(e){this.$store.commit("prop",{key:"audioPlayer.timeDisplayLeft",value:e})}},progress:{get(){return this.store.audioPlayer.progress},set(e){this.$store.commit("prop",{key:"audioPlayer.progress",value:e})}},sample:{get(){return this.store.audioPlayer.sample},set(e){this.$store.commit("prop",{key:"audioPlayer.sample",value:e})}},audioSource(){const e=Ae.get(this.$store.getters.audioPlayerBook,"sample");var t=new ct(e);return window.location.protocol==="http:"&&(t.protocol="http"),t.toString()},route(){return Ae.get(this.audio,"route",{})},progressFillerStyle(){const e={};return this.progress&&(e.width=this.progress+"%"),e}},mounted(){this.$compEmitter.on("audio-player-scubber-pause",this.scrubberPause),this.$compEmitter.on("audio-player-clear-pause",this.clearPause),this.$compEmitter.on("audio-player-scrubbed",this.userScrubbed),this.$compEmitter.on("audio-player-play",this.play),this.$compEmitter.on("audio-player-pause",this.pause),this.$compEmitter.on("audio-player-stop",this.stop),this.$compEmitter.on("audio-player-seek-back",this.seekBack),this.$compEmitter.on("audio-player-seek-forward",this.seekForward)},beforeUnmount(){this.$compEmitter.off("audio-player-scubber-pause",this.scrubberPause),this.$compEmitter.off("audio-player-clear-pause",this.clearPause),this.$compEmitter.off("audio-player-scrubbed",this.userScrubbed),this.$compEmitter.off("audio-player-play",this.play),this.$compEmitter.off("audio-player-pause",this.pause),this.$compEmitter.off("audio-stop-pause",this.stop),this.$compEmitter.off("audio-stop-seek-back",this.seekBack),this.$compEmitter.off("audio-stop-seek-forward",this.seekForward),this.destroyHowler()},methods:{openBook(){const e=this.book.asin,t=this.$route.query.book;this.route&&this.route.fullPath!==this.$route.fullPath&&this.$router.push(this.route.fullPath),(!t||e&&t!==e)&&this.$nextTick(function(){this.$compEmitter.emit("book-clicked",this.book.asin)})},initPlayer:function(){let e=this;this.destroyHowler("keepAudioData"),this.$store.getters.mobileThreshold&&this.$store.commit("prop",{key:"showMobilePlayer",value:!0}),this.$store.commit("prop",{key:"playingAudio",value:!0}),this.howler=new Ms.Howl({src:this.audioSource,autoplay:!0,loop:!1,volume:1,onplayerror:function(){e.howler.once("unlock",function(){e.howler.play()}),e.$store.commit("prop",{key:"audioPlayer.playing",value:e.howler.playing()})},onplay(t,n){e.$store.commit("prop",{key:"audioPlayer.playing",value:e.howler.playing()})},onend(t){e.$store.commit("prop",{key:"audioPlayer.playing",value:e.howler.playing()})},onpause(t){e.$store.commit("prop",{key:"audioPlayer.playing",value:e.howler.playing()})},onstop(t){e.$store.commit("prop",{key:"audioPlayer.playing",value:e.howler?e.howler.playing():!1})}}),this.seekToCachedPosition(),this.howler.customSeek=function(t){t=t||{},t.value=t.value||30;const n=e.howler.duration(),s={going:{forward:t.direction==="forward",backward:t.direction==="backward"},at:{end:!1,start:!1},value:null},o=s.going.forward?"add":"subtract";s.value=Ae[o](e.howler.current.time,t.value),s.at.end=s.value>=n,s.at.start=s.value<=0,s.value=s.going.forward?s.at.end?n-1e-8:s.value:s.at.start?0:s.value,e.howler.seek(s.value),s.at.start||s.at.end?e.updateCurrent():e.howler.playing()||e.howler.play()},this.howler.current={timer:null,time:null,timeDisplay:null,timeDisplayLeft:null,percentage:null},this.howler.current.timer=setInterval(function(){e.howler.playing()&&(e.updateCurrent(),document.activeElement&&document.activeElement.blur()),e.updateBookProgress()},500)},formatTime(e){const t=[],n=function(c){t.push((c<10?"0":"")+c)};let s=Math.floor(e/3600);n(s);let o=Math.floor(e/60)||0;n(o);let a=e-o*60||0;return n(a),t.shift(),t.join(":")},updateCurrent(){var e=this.howler.seek()||0,t=this.howler.duration()||0;this.howler.current.time=e,this.howler.current.timeDisplay=this.formatTime(Math.round(e)),this.howler.current.timeDisplayLeft=this.formatTime(Math.round(t-e)),this.howler.current.percentage=e/t*100||0,this.timeDisplay=this.howler.current.timeDisplay,this.timeDisplayLeft=this.howler.current.timeDisplayLeft,this.progress=this.howler.current.percentage.toFixed(1)},play:function(e){this.howler&&!this.howler.playing()&&this.howler.play()},pause:function(e){this.howler&&this.howler.playing()&&this.howler.pause()},scrubberPause:function(e){let t=this;this.howler&&this.howler.playing()&&(this.howler.pause(),this.clearPause(),this.howler.pauseTimer=setTimeout(function(){t.howler.play()},500))},clearPause:function(){this.howler&&clearTimeout(this.howler.pauseTimer)},stop:function(){this.destroyHowler()},seekBack:function(){this.howler&&this.howler.customSeek({direction:"backward"})},seekForward:function(){this.howler&&this.howler.customSeek({direction:"forward"})},userScrubbed:function(e){if(this.howler){var t=e.target.value/100*this.howler.duration();this.progress=e.target.value,this.howler.seek(t),this.howler.playing()||this.howler.play()}},destroyHowler(e){this.$store.getters.mobileThreshold&&this.$store.commit("prop",{key:"showMobilePlayer",value:!1}),this.howler&&(this.clearPause(),Ae.get(this.howler,"current.timer")&&clearInterval(this.howler.current.timer),Ae.get(this.howler,"unload")&&this.howler.unload(),this.howler=null),e||(this.audio=null),this.$store.commit("prop",{key:"playingAudio",value:!1})},updateBookProgress:Ae.throttle(function(){this.sample||this.$store.commit("updatePlayerProgress",{asin:this.$store.getters.audioPlayerBook.asin,progress:this.howler.current.time})},3e3,{leading:!1,trailing:!0}),seekToCachedPosition(){const e=Ae.find(this.$store.state.sticky.player.books,{asin:this.$store.getters.audioPlayerBook.asin});e&&this.howler.seek(e.progress)}}},la={mixins:[aa],data:function(){return{general:{route:null,standalone:null,categories:null,tippyTheme:"dark"},window:{width:window.innerWidth,height:window.innerHeight}}},created:function(){if(!this.$store.state.sticky.lightSwitchSetByUser){const t=document.querySelector("html");t.classList.remove("theme-dark"),t.classList.add("theme-light")}let e=this;this.checkIf_iOS()&&document.querySelector("body").classList.add("is-ios"),this.checkIf_Mobile()&&document.querySelector("body").classList.add("is-mobile"),this.$store.commit("prop",{key:"siteOnline",value:navigator.onLine}),window.addEventListener("offline",function(){e.$store.commit("prop",{key:"siteOnline",value:!1})},{passive:!0}),window.addEventListener("online",function(){e.$store.commit("prop",{key:"siteOnline",value:!0})},{passive:!0})},mounted:function(){const e=this;window.addEventListener("resize",e.onWindowResize,{passive:!0}),this.showTheBackgroundGrid()},methods:{checkIf_iOS:function(){return["iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},checkIf_Mobile(){const e=_.get(navigator,"userAgent","").toLowerCase(),t=_.includes(["Android","webOS","iPhone","iPad","iPod","BlackBerry","Windows Phone"],s=>(s=s.toLowerCase(),e===s)),n=navigator.userAgent.includes("Mac")&&"ontouchend"in document;return t||n},showTheBackgroundGrid:function(){if(!this.$store.state.showBackground){const e=this;this.$nextTick(function(){setTimeout(function(){e.$store.commit("prop",{key:"showBackground",value:!0})},1200)})}},onWindowResize:_.debounce(function(){const e=window.innerWidth,t=window.innerHeight,n=this.window.width!==e,s=this.window.height!==t;(n||s)&&(this.window.width=e,this.window.height=t,n&&this.$store.commit("prop",{key:"windowWidth",value:e}),this.$compEmitter.emit("afterWindowResize",{from:"app",width:e,widthChanged:n,height:t,heightChanged:s}))},320,{leading:!0,trailing:!0})},watch:{$route:function(e,t){let n=e.params?_.map(e.params,function(s,o){return o+":"+s}).join(","):null;this.$store.commit("prop",[{key:"route",value:e},{key:"routeParams",value:n}]),this.$nextTick(function(){this.$store.state.pageTitle&&(this.$route.meta.title||this.$route.meta.title==="")?document.title="ALE  "+(this.$route.meta.title===this.$store.state.pageTitle?this.$store.state.pageTitle:this.$route.meta.title+": "+this.$store.state.pageTitle):e.meta.title&&(document.title="ALE  "+(e.meta.title||"My Audible Library"))})},"$store.state.preventScrolling"(e){document.body.classList[e?"add":"remove"]("prevent-scrolling")}}},ca=["data-version","data-prevent-scrolling"],ua={key:1},da={key:2,id:"nothing-here-404"},ha={key:0},pa={key:1};function fa(e,t,n,s,o,a){const c=oa,d=ta,u=at("router-view");return S(),C("div",{class:de({"mobile-threshold":e.$store.state.windowWidth<630}),"data-version":e.$store.state.version,"data-prevent-scrolling":e.$store.state.preventScrolling,style:He({paddingTop:e.$store.state.desktopPlayerHeight})},[e.$store.state.showBackground&&!(e.$store.state.standalone&&!e.$store.state.siteOnline)?(S(),re(c,{key:0})):H("",!0),q(d),e.$route.name!=="404"&&e.$store.state.showRoute?(S(),C("div",ua,[(S(),re(u,{key:e.$route.name+"-"+e.$store.state.routeParams+"-"+e.$store.state.refreshViewTimeStamp}))])):e.$store.state.showRoute?(S(),C("div",da,[e.$store.getters.searchIsActive&&!e.$store.state.searchCollection.length?(S(),C("h3",ha,"Search: no results")):(S(),C("h3",pa,"404: There's nothing here"))])):H("",!0)],14,ca)}const ma=pe(la,[["render",fa]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ze=typeof document<"u";function Pn(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ga(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Pn(e.default)}const K=Object.assign;function wt(e,t){const n={};for(const s in t){const o=t[s];n[s]=we(o)?o.map(e):e(o)}return n}const tt=()=>{},we=Array.isArray,En=/#/g,va=/&/g,ya=/\//g,ba=/=/g,ka=/\?/g,Rn=/\+/g,wa=/%5B/g,_a=/%5D/g,On=/%5E/g,Sa=/%60/g,Mn=/%7B/g,$a=/%7C/g,An=/%7D/g,xa=/%20/g;function Rt(e){return encodeURI(""+e).replace($a,"|").replace(wa,"[").replace(_a,"]")}function Ca(e){return Rt(e).replace(Mn,"{").replace(An,"}").replace(On,"^")}function xt(e){return Rt(e).replace(Rn,"%2B").replace(xa,"+").replace(En,"%23").replace(va,"%26").replace(Sa,"`").replace(Mn,"{").replace(An,"}").replace(On,"^")}function Pa(e){return xt(e).replace(ba,"%3D")}function Ea(e){return Rt(e).replace(En,"%23").replace(ka,"%3F")}function Ra(e){return e==null?"":Ea(e).replace(ya,"%2F")}function rt(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Oa=/\/$/,Ma=e=>e.replace(Oa,"");function _t(e,t,n="/"){let s,o={},a="",c="";const d=t.indexOf("#");let u=t.indexOf("?");return d<u&&d>=0&&(u=-1),u>-1&&(s=t.slice(0,u),a=t.slice(u+1,d>-1?d:t.length),o=e(a)),d>-1&&(s=s||t.slice(0,d),c=t.slice(d,t.length)),s=Ia(s??t,n),{fullPath:s+(a&&"?")+a+c,path:s,query:o,hash:rt(c)}}function Aa(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Vt(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function La(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Ue(t.matched[s],n.matched[o])&&Ln(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ue(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ln(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Ta(e[n],t[n]))return!1;return!0}function Ta(e,t){return we(e)?zt(e,t):we(t)?zt(t,e):e===t}function zt(e,t){return we(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Ia(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let a=n.length-1,c,d;for(c=0;c<s.length;c++)if(d=s[c],d!==".")if(d==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+s.slice(c).join("/")}const Oe={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ot;(function(e){e.pop="pop",e.push="push"})(ot||(ot={}));var nt;(function(e){e.back="back",e.forward="forward",e.unknown=""})(nt||(nt={}));function Da(e){if(!e)if(ze){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Ma(e)}const ja=/^[^#]+#/;function Ba(e,t){return e.replace(ja,"#")+t}function Na(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const pt=()=>({left:window.scrollX,top:window.scrollY});function Va(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Na(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ht(e,t){return(history.state?history.state.position-t:-1)+e}const Ct=new Map;function za(e,t){Ct.set(e,t)}function Ha(e){const t=Ct.get(e);return Ct.delete(e),t}let Ua=()=>location.protocol+"//"+location.host;function Tn(e,t){const{pathname:n,search:s,hash:o}=t,a=e.indexOf("#");if(a>-1){let d=o.includes(e.slice(a))?e.slice(a).length:1,u=o.slice(d);return u[0]!=="/"&&(u="/"+u),Vt(u,"")}return Vt(n,e)+s+o}function qa(e,t,n,s){let o=[],a=[],c=null;const d=({state:y})=>{const f=Tn(e,location),$=n.value,v=t.value;let b=0;if(y){if(n.value=f,t.value=y,c&&c===$){c=null;return}b=v?y.position-v.position:0}else s(f);o.forEach(R=>{R(n.value,$,{delta:b,type:ot.pop,direction:b?b>0?nt.forward:nt.back:nt.unknown})})};function u(){c=n.value}function h(y){o.push(y);const f=()=>{const $=o.indexOf(y);$>-1&&o.splice($,1)};return a.push(f),f}function l(){const{history:y}=window;y.state&&y.replaceState(K({},y.state,{scroll:pt()}),"")}function m(){for(const y of a)y();a=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:u,listen:h,destroy:m}}function Ut(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?pt():null}}function Fa(e){const{history:t,location:n}=window,s={value:Tn(e,n)},o={value:t.state};o.value||a(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(u,h,l){const m=e.indexOf("#"),y=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+u:Ua()+e+u;try{t[l?"replaceState":"pushState"](h,"",y),o.value=h}catch(f){console.error(f),n[l?"replace":"assign"](y)}}function c(u,h){const l=K({},t.state,Ut(o.value.back,u,o.value.forward,!0),h,{position:o.value.position});a(u,l,!0),s.value=u}function d(u,h){const l=K({},o.value,t.state,{forward:u,scroll:pt()});a(l.current,l,!0);const m=K({},Ut(s.value,u,null),{position:l.position+1},h);a(u,m,!1),s.value=u}return{location:s,state:o,push:d,replace:c}}function Ga(e){e=Da(e);const t=Fa(e),n=qa(e,t.state,t.location,t.replace);function s(a,c=!0){c||n.pauseListeners(),history.go(a)}const o=K({location:"",base:e,go:s,createHref:Ba.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Wa(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Ga(e)}function Ja(e){return typeof e=="string"||e&&typeof e=="object"}function In(e){return typeof e=="string"||typeof e=="symbol"}const Dn=Symbol("");var qt;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(qt||(qt={}));function qe(e,t){return K(new Error,{type:e,[Dn]:!0},t)}function Ce(e,t){return e instanceof Error&&Dn in e&&(t==null||!!(e.type&t))}const Ft="[^/]+?",Ya={sensitive:!1,strict:!1,start:!0,end:!0},Ka=/[.+*?^${}()[\]/\\]/g;function Xa(e,t){const n=K({},Ya,t),s=[];let o=n.start?"^":"";const a=[];for(const h of e){const l=h.length?[]:[90];n.strict&&!h.length&&(o+="/");for(let m=0;m<h.length;m++){const y=h[m];let f=40+(n.sensitive?.25:0);if(y.type===0)m||(o+="/"),o+=y.value.replace(Ka,"\\$&"),f+=40;else if(y.type===1){const{value:$,repeatable:v,optional:b,regexp:R}=y;a.push({name:$,repeatable:v,optional:b});const A=R||Ft;if(A!==Ft){f+=10;try{new RegExp(`(${A})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${$}" (${A}): `+N.message)}}let E=v?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;m||(E=b&&h.length<2?`(?:/${E})`:"/"+E),b&&(E+="?"),o+=E,f+=20,b&&(f+=-8),v&&(f+=-20),A===".*"&&(f+=-50)}l.push(f)}s.push(l)}if(n.strict&&n.end){const h=s.length-1;s[h][s[h].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const c=new RegExp(o,n.sensitive?"":"i");function d(h){const l=h.match(c),m={};if(!l)return null;for(let y=1;y<l.length;y++){const f=l[y]||"",$=a[y-1];m[$.name]=f&&$.repeatable?f.split("/"):f}return m}function u(h){let l="",m=!1;for(const y of e){(!m||!l.endsWith("/"))&&(l+="/"),m=!1;for(const f of y)if(f.type===0)l+=f.value;else if(f.type===1){const{value:$,repeatable:v,optional:b}=f,R=$ in h?h[$]:"";if(we(R)&&!v)throw new Error(`Provided param "${$}" is an array but it is not repeatable (* or + modifiers)`);const A=we(R)?R.join("/"):R;if(!A)if(b)y.length<2&&(l.endsWith("/")?l=l.slice(0,-1):m=!0);else throw new Error(`Missing required param "${$}"`);l+=A}}return l||"/"}return{re:c,score:s,keys:a,parse:d,stringify:u}}function Qa(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function jn(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const a=Qa(s[n],o[n]);if(a)return a;n++}if(Math.abs(o.length-s.length)===1){if(Gt(s))return 1;if(Gt(o))return-1}return o.length-s.length}function Gt(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Za={type:0,value:""},el=/[a-zA-Z0-9_]/;function tl(e){if(!e)return[[]];if(e==="/")return[[Za]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${h}": ${f}`)}let n=0,s=n;const o=[];let a;function c(){a&&o.push(a),a=[]}let d=0,u,h="",l="";function m(){h&&(n===0?a.push({type:0,value:h}):n===1||n===2||n===3?(a.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:h,regexp:l,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),h="")}function y(){h+=u}for(;d<e.length;){if(u=e[d++],u==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:u==="/"?(h&&m(),c()):u===":"?(m(),n=1):y();break;case 4:y(),n=s;break;case 1:u==="("?n=2:el.test(u)?y():(m(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&d--);break;case 2:u===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+u:n=3:l+=u;break;case 3:m(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&d--,l="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),m(),c(),o}function nl(e,t,n){const s=Xa(tl(e.path),n),o=K(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function sl(e,t){const n=[],s=new Map;t=Kt({strict:!1,end:!0,sensitive:!1},t);function o(m){return s.get(m)}function a(m,y,f){const $=!f,v=Jt(m);v.aliasOf=f&&f.record;const b=Kt(t,m),R=[v];if("alias"in m){const N=typeof m.alias=="string"?[m.alias]:m.alias;for(const J of N)R.push(Jt(K({},v,{components:f?f.record.components:v.components,path:J,aliasOf:f?f.record:v})))}let A,E;for(const N of R){const{path:J}=N;if(y&&J[0]!=="/"){const V=y.record.path,F=V[V.length-1]==="/"?"":"/";N.path=y.record.path+(J&&F+J)}if(A=nl(N,y,b),f?f.alias.push(A):(E=E||A,E!==A&&E.alias.push(A),$&&m.name&&!Yt(A)&&c(m.name)),Bn(A)&&u(A),v.children){const V=v.children;for(let F=0;F<V.length;F++)a(V[F],A,f&&f.children[F])}f=f||A}return E?()=>{c(E)}:tt}function c(m){if(In(m)){const y=s.get(m);y&&(s.delete(m),n.splice(n.indexOf(y),1),y.children.forEach(c),y.alias.forEach(c))}else{const y=n.indexOf(m);y>-1&&(n.splice(y,1),m.record.name&&s.delete(m.record.name),m.children.forEach(c),m.alias.forEach(c))}}function d(){return n}function u(m){const y=ol(m,n);n.splice(y,0,m),m.record.name&&!Yt(m)&&s.set(m.record.name,m)}function h(m,y){let f,$={},v,b;if("name"in m&&m.name){if(f=s.get(m.name),!f)throw qe(1,{location:m});b=f.record.name,$=K(Wt(y.params,f.keys.filter(E=>!E.optional).concat(f.parent?f.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),m.params&&Wt(m.params,f.keys.map(E=>E.name))),v=f.stringify($)}else if(m.path!=null)v=m.path,f=n.find(E=>E.re.test(v)),f&&($=f.parse(v),b=f.record.name);else{if(f=y.name?s.get(y.name):n.find(E=>E.re.test(y.path)),!f)throw qe(1,{location:m,currentLocation:y});b=f.record.name,$=K({},y.params,m.params),v=f.stringify($)}const R=[];let A=f;for(;A;)R.unshift(A.record),A=A.parent;return{name:b,path:v,params:$,matched:R,meta:rl(R)}}e.forEach(m=>a(m));function l(){n.length=0,s.clear()}return{addRoute:a,resolve:h,removeRoute:c,clearRoutes:l,getRoutes:d,getRecordMatcher:o}}function Wt(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Jt(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:il(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function il(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Yt(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function rl(e){return e.reduce((t,n)=>K(t,n.meta),{})}function Kt(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function ol(e,t){let n=0,s=t.length;for(;n!==s;){const a=n+s>>1;jn(e,t[a])<0?s=a:n=a+1}const o=al(e);return o&&(s=t.lastIndexOf(o,s-1)),s}function al(e){let t=e;for(;t=t.parent;)if(Bn(t)&&jn(e,t)===0)return t}function Bn({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ll(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const a=s[o].replace(Rn," "),c=a.indexOf("="),d=rt(c<0?a:a.slice(0,c)),u=c<0?null:rt(a.slice(c+1));if(d in t){let h=t[d];we(h)||(h=t[d]=[h]),h.push(u)}else t[d]=u}return t}function Xt(e){let t="";for(let n in e){const s=e[n];if(n=Pa(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(we(s)?s.map(a=>a&&xt(a)):[s&&xt(s)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function cl(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=we(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const ul=Symbol(""),Qt=Symbol(""),Ot=Symbol(""),Nn=Symbol(""),Pt=Symbol("");function Ke(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Me(e,t,n,s,o,a=c=>c()){const c=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((d,u)=>{const h=y=>{y===!1?u(qe(4,{from:n,to:t})):y instanceof Error?u(y):Ja(y)?u(qe(2,{from:t,to:y})):(c&&s.enterCallbacks[o]===c&&typeof y=="function"&&c.push(y),d())},l=a(()=>e.call(s&&s.instances[o],t,n,h));let m=Promise.resolve(l);e.length<3&&(m=m.then(h)),m.catch(y=>u(y))})}function St(e,t,n,s,o=a=>a()){const a=[];for(const c of e)for(const d in c.components){let u=c.components[d];if(!(t!=="beforeRouteEnter"&&!c.instances[d]))if(Pn(u)){const l=(u.__vccOpts||u)[t];l&&a.push(Me(l,n,s,c,d,o))}else{let h=u();a.push(()=>h.then(l=>{if(!l)throw new Error(`Couldn't resolve component "${d}" at "${c.path}"`);const m=ga(l)?l.default:l;c.mods[d]=l,c.components[d]=m;const f=(m.__vccOpts||m)[t];return f&&Me(f,n,s,c,d,o)()}))}}return a}function Zt(e){const t=it(Ot),n=it(Nn),s=Se(()=>{const u=et(e.to);return t.resolve(u)}),o=Se(()=>{const{matched:u}=s.value,{length:h}=u,l=u[h-1],m=n.matched;if(!l||!m.length)return-1;const y=m.findIndex(Ue.bind(null,l));if(y>-1)return y;const f=en(u[h-2]);return h>1&&en(l)===f&&m[m.length-1].path!==f?m.findIndex(Ue.bind(null,u[h-2])):y}),a=Se(()=>o.value>-1&&ml(n.params,s.value.params)),c=Se(()=>o.value>-1&&o.value===n.matched.length-1&&Ln(n.params,s.value.params));function d(u={}){if(fl(u)){const h=t[et(e.replace)?"replace":"push"](et(e.to)).catch(tt);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:s,href:Se(()=>s.value.href),isActive:a,isExactActive:c,navigate:d}}function dl(e){return e.length===1?e[0]:e}const hl=fn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Zt,setup(e,{slots:t}){const n=fs(Zt(e)),{options:s}=it(Ot),o=Se(()=>({[tn(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[tn(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&dl(t.default(n));return e.custom?a:mn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},a)}}}),pl=hl;function fl(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ml(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!we(o)||o.length!==s.length||s.some((a,c)=>a!==o[c]))return!1}return!0}function en(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const tn=(e,t,n)=>e??t??n,gl=fn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=it(Pt),o=Se(()=>e.route||s.value),a=it(Qt,0),c=Se(()=>{let h=et(a);const{matched:l}=o.value;let m;for(;(m=l[h])&&!m.components;)h++;return h}),d=Se(()=>o.value.matched[c.value]);kt(Qt,Se(()=>c.value+1)),kt(ul,d),kt(Pt,o);const u=ms();return gs(()=>[u.value,d.value,e.name],([h,l,m],[y,f,$])=>{l&&(l.instances[m]=h,f&&f!==l&&h&&h===y&&(l.leaveGuards.size||(l.leaveGuards=f.leaveGuards),l.updateGuards.size||(l.updateGuards=f.updateGuards))),h&&l&&(!f||!Ue(l,f)||!y)&&(l.enterCallbacks[m]||[]).forEach(v=>v(h))},{flush:"post"}),()=>{const h=o.value,l=e.name,m=d.value,y=m&&m.components[l];if(!y)return nn(n.default,{Component:y,route:h});const f=m.props[l],$=f?f===!0?h.params:typeof f=="function"?f(h):f:null,b=mn(y,K({},$,t,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(m.instances[l]=null)},ref:u}));return nn(n.default,{Component:b,route:h})||b}}});function nn(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const vl=gl;function yl(e){const t=sl(e.routes,e),n=e.parseQuery||ll,s=e.stringifyQuery||Xt,o=e.history,a=Ke(),c=Ke(),d=Ke(),u=hs(Oe);let h=Oe;ze&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=wt.bind(null,w=>""+w),m=wt.bind(null,Ra),y=wt.bind(null,rt);function f(w,O){let P,L;return In(w)?(P=t.getRecordMatcher(w),L=O):L=w,t.addRoute(L,P)}function $(w){const O=t.getRecordMatcher(w);O&&t.removeRoute(O)}function v(){return t.getRoutes().map(w=>w.record)}function b(w){return!!t.getRecordMatcher(w)}function R(w,O){if(O=K({},O||u.value),typeof w=="string"){const j=_t(n,w,O.path),ie=t.resolve({path:j.path},O),Y=o.createHref(j.fullPath);return K(j,ie,{params:y(ie.params),hash:rt(j.hash),redirectedFrom:void 0,href:Y})}let P;if(w.path!=null)P=K({},w,{path:_t(n,w.path,O.path).path});else{const j=K({},w.params);for(const ie in j)j[ie]==null&&delete j[ie];P=K({},w,{params:m(j)}),O.params=m(O.params)}const L=t.resolve(P,O),X=w.hash||"";L.params=l(y(L.params));const se=Aa(s,K({},w,{hash:Ca(X),path:L.path})),z=o.createHref(se);return K({fullPath:se,hash:X,query:s===Xt?cl(w.query):w.query||{}},L,{redirectedFrom:void 0,href:z})}function A(w){return typeof w=="string"?_t(n,w,u.value.path):K({},w)}function E(w,O){if(h!==w)return qe(8,{from:O,to:w})}function N(w){return F(w)}function J(w){return N(K(A(w),{replace:!0}))}function V(w){const O=w.matched[w.matched.length-1];if(O&&O.redirect){const{redirect:P}=O;let L=typeof P=="function"?P(w):P;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=A(L):{path:L},L.params={}),K({query:w.query,hash:w.hash,params:L.path!=null?{}:w.params},L)}}function F(w,O){const P=h=R(w),L=u.value,X=w.state,se=w.force,z=w.replace===!0,j=V(P);if(j)return F(K(A(j),{state:typeof j=="object"?K({},X,j.state):X,force:se,replace:z}),O||P);const ie=P;ie.redirectedFrom=O;let Y;return!se&&La(s,L,P)&&(Y=qe(16,{to:ie,from:L}),fe(L,L,!0,!1)),(Y?Promise.resolve(Y):ke(ie,L)).catch(ce=>Ce(ce)?Ce(ce,2)?ce:ae(ce):ee(ce,ie,L)).then(ce=>{if(ce){if(Ce(ce,2))return F(K({replace:z},A(ce.to),{state:typeof ce.to=="object"?K({},X,ce.to.state):X,force:se}),O||ie)}else ce=I(ie,L,!0,z,X);return Ne(ie,L,ce),ce})}function Z(w,O){const P=E(w,O);return P?Promise.reject(P):Promise.resolve()}function be(w){const O=Ve.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(w):w()}function ke(w,O){let P;const[L,X,se]=bl(w,O);P=St(L.reverse(),"beforeRouteLeave",w,O);for(const j of L)j.leaveGuards.forEach(ie=>{P.push(Me(ie,w,O))});const z=Z.bind(null,w,O);return P.push(z),Re(P).then(()=>{P=[];for(const j of a.list())P.push(Me(j,w,O));return P.push(z),Re(P)}).then(()=>{P=St(X,"beforeRouteUpdate",w,O);for(const j of X)j.updateGuards.forEach(ie=>{P.push(Me(ie,w,O))});return P.push(z),Re(P)}).then(()=>{P=[];for(const j of se)if(j.beforeEnter)if(we(j.beforeEnter))for(const ie of j.beforeEnter)P.push(Me(ie,w,O));else P.push(Me(j.beforeEnter,w,O));return P.push(z),Re(P)}).then(()=>(w.matched.forEach(j=>j.enterCallbacks={}),P=St(se,"beforeRouteEnter",w,O,be),P.push(z),Re(P))).then(()=>{P=[];for(const j of c.list())P.push(Me(j,w,O));return P.push(z),Re(P)}).catch(j=>Ce(j,8)?j:Promise.reject(j))}function Ne(w,O,P){d.list().forEach(L=>be(()=>L(w,O,P)))}function I(w,O,P,L,X){const se=E(w,O);if(se)return se;const z=O===Oe,j=ze?history.state:{};P&&(L||z?o.replace(w.fullPath,K({scroll:z&&j&&j.scroll},X)):o.push(w.fullPath,X)),u.value=w,fe(w,O,P,z),ae()}let G;function W(){G||(G=o.listen((w,O,P)=>{if(!Ge.listening)return;const L=R(w),X=V(L);if(X){F(K(X,{replace:!0,force:!0}),L).catch(tt);return}h=L;const se=u.value;ze&&za(Ht(se.fullPath,P.delta),pt()),ke(L,se).catch(z=>Ce(z,12)?z:Ce(z,2)?(F(K(A(z.to),{force:!0}),L).then(j=>{Ce(j,20)&&!P.delta&&P.type===ot.pop&&o.go(-1,!1)}).catch(tt),Promise.reject()):(P.delta&&o.go(-P.delta,!1),ee(z,L,se))).then(z=>{z=z||I(L,se,!1),z&&(P.delta&&!Ce(z,8)?o.go(-P.delta,!1):P.type===ot.pop&&Ce(z,20)&&o.go(-1,!1)),Ne(L,se,z)}).catch(tt)}))}let U=Ke(),B=Ke(),Q;function ee(w,O,P){ae(w);const L=B.list();return L.length?L.forEach(X=>X(w,O,P)):console.error(w),Promise.reject(w)}function ne(){return Q&&u.value!==Oe?Promise.resolve():new Promise((w,O)=>{U.add([w,O])})}function ae(w){return Q||(Q=!w,W(),U.list().forEach(([O,P])=>w?P(w):O()),U.reset()),w}function fe(w,O,P,L){const{scrollBehavior:X}=e;if(!ze||!X)return Promise.resolve();const se=!P&&Ha(Ht(w.fullPath,0))||(L||!P)&&history.state&&history.state.scroll||null;return vs().then(()=>X(w,O,se)).then(z=>z&&Va(z)).catch(z=>ee(z,w,O))}const ve=w=>o.go(w);let Fe;const Ve=new Set,Ge={currentRoute:u,listening:!0,addRoute:f,removeRoute:$,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:v,resolve:R,options:e,push:N,replace:J,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:a.add,beforeResolve:c.add,afterEach:d.add,onError:B.add,isReady:ne,install(w){const O=this;w.component("RouterLink",pl),w.component("RouterView",vl),w.config.globalProperties.$router=O,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>et(u)}),ze&&!Fe&&u.value===Oe&&(Fe=!0,N(o.location).catch(X=>{}));const P={};for(const X in Oe)Object.defineProperty(P,X,{get:()=>u.value[X],enumerable:!0});w.provide(Ot,O),w.provide(Nn,ps(P)),w.provide(Pt,u);const L=w.unmount;Ve.add(w),w.unmount=function(){Ve.delete(w),Ve.size<1&&(h=Oe,G&&G(),G=null,u.value=Oe,Fe=!1,Q=!1),L()}}};function Re(w){return w.reduce((O,P)=>O.then(()=>be(P)),Promise.resolve())}return Ge}function bl(e,t){const n=[],s=[],o=[],a=Math.max(t.matched.length,e.matched.length);for(let c=0;c<a;c++){const d=t.matched[c];d&&(e.matched.find(h=>Ue(h,d))?s.push(d):n.push(d));const u=e.matched[c];u&&(t.matched.find(h=>Ue(h,u))||o.push(u))}return[n,s,o]}const kl={sticky:{lightSwitch:1,lightSwitchSetByUser:!1,viewMode:"grid",chunkLocation:0,booksInSeriesToggle:!1,collectionsDrawerToggle:!0,exportSettingsGallery:null,exportSettingsCSVdataSources:null,exportSettingsCSVcompatibility:null,exportSettingsGoodreadsIdentifier:null,booksInSeriesAll:!0,booksInSeriesFinished:!0,booksInSeriesOpenInApp:!0,subPageSource:"library",bookDetailsCollapsedCover:!1,bookDetailsCollapsedDetails:!1,contextMenuReminder:!0,detailLinksToAudible:!0,bookDetailSettings:{minHeight:null,titleShort:!0,sidebar:{show:!0,iconToolbar:!0,seriesList:!0,collectionsList:!0},carousel:!0,playButton:!0,cloudPlayer:!1,blurb:!0,statusIndicators:!0,whispersync:!0,plusCatalog:!0,favorite:!0,finished:!0,reverseDirection:!1,hideFirstSection:!1},collectionsHidePremade:!1,player:{books:[]},seriesFilters:{inLibrary:null,notInLibrary:null}},bookDetailSettingsOpen:!1,searchMounted:!1,searchCollection:[],mutatingCollection:[],collectionSource:null,pageCollection:null,route:null,routeParams:null,library:null,urlOrigin:null,searchQuery:"",standalone:null,displayMode:null,listRenderingOpts:null,windowWidth:window.innerWidth,showBackground:!1,chunkCollection:[],chunkDistance:40,refreshViewTimeStamp:new Date().getTime(),showRoute:!0,pageTitle:null,pageSubTitle:null,version:"0.2.12",extractSettings:null,siteOnline:!0,searchOptCloseGuard:!1,bundlingGallery:!1,bookDetails:{book:null,index:-1},searchOptOpenHeight:null,devMode:!1,lazyScroll:!0,navHistory:{btnNavigation:!1,forward:[],back:[]},modal:{saveLocally:!1},preventScrolling:!1,playingAudio:!1,topNavOffset:0,bookClicked:!1,audioPlayer:{audio:null,timeDisplay:"00:00",timeDisplayLeft:"00:00",progress:0,sample:!0,playing:!1},showMobilePlayer:!1,desktopPlayerHeight:null,mobileWidth:630},wl={fromLocalStorage:function(e){const t=JSON.parse(localStorage.getItem("aleSettings"));t&&_.merge(e.sticky,t)},prop(e,t){let n=function(s){if(s=s||{},s.key){let o=s.freeze?Object.freeze(s.value):s.value;_.set(e,s.key,o)}};_.isArray(t)?_.each(t,function(s){n(s)}):n(t)},buildStandaloneData:function(e,t){e.library=e.library||{},_.each(t,function(n){n.key&&_.set(e,"library."+n.key,Object.freeze(n.value))})},stickyProp:function(e,t){e.sticky[t.key]=t.value},addListRenderingOpts:function(e,t){if(t.sortValues!==void 0){let n=_.find(e.listRenderingOpts.sort,{key:"sortValues"});n&&(n.active=t.sortValues)}if(t.splice?e.listRenderingOpts[t.listName].splice(t.splice,0,t.option):t.unshift?e.listRenderingOpts[t.listName].unshift(t.option):e.listRenderingOpts[t.listName].push(t.option),t.activate)if(t.listName==="sort"){const n=_.find(e.listRenderingOpts[t.listName],"current");n&&(n.current=!1),t.option.current=!0}else{const n=_.find(e.listRenderingOpts[t.listName],"active");n.active=!1,t.option.active=!0}},updateListRenderingOpts:function(e,t){let n=e.listRenderingOpts[t.listName],s=n[t.index===0||t.index?t.index:_.findIndex(n,{key:t.key})];if(t.sortValues!==void 0){let o=_.find(e.listRenderingOpts.sort,{key:"sortValues"});o&&(o.active=t.sortValues)}if((t.active===!1||t.active===!0)&&(s.active=t.active),s.type==="filterExtras"&&(t.range&&(s.range=t.range),t.value&&(s.value=t.value)),t.listName==="sort"&&s.type==="sort"){const o=_.filter(n,"current");_.each(o,a=>{a.current=!1}),s.current=!0}},resetFilters:function(e,t){_.each(e.listRenderingOpts.filter,function(n){n.active=n.type==="filter"})},chunkCollectionReset:function(e){e.chunkDistance=e.sticky.viewMode==="grid"?52:80,e.sticky.chunkLocation=0,e.chunkCollection=[]},chunkCollectionAdd:function(e,t){t=t||{};const s=e.searchQuery.trim()!==""?e.searchCollection:e.mutatingCollection;if(s.length>0){const o=t.chunkDistance?t.chunkDistance:parseFloat(e.sticky.chunkLocation);let a=t.chunkDistance?s.slice(0,o):s.slice(o,o+e.chunkDistance);a.length>0&&(t.chunkDistance?e.chunkCollection=a:e.chunkCollection=e.chunkCollection.concat(a),e.sticky.chunkLocation=o+e.chunkDistance)}},navHistory:function(e,t){const n=t.pushOnly?t.key:t.key==="back"?"forward":"back";e.navHistory[n].push(t.value),t.pushOnly||(e.navHistory[t.key].pop,e.navHistory.btnNavigation=!0)},updatePlayerProgress:function(e,t){const n=_.findIndex(e.sticky.player.books,{asin:t.asin});n>-1?_.set(e.sticky.player,"books["+n+"].progress",t.progress):e.sticky.player.books.push(t)}};function _l(e,t,n){const s=$e(e,n?.in);return isNaN(t)?ut(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function Sl(e,t,n){const s=$e(e,n?.in);if(isNaN(t))return ut(e,NaN);if(!t)return s;const o=s.getDate(),a=ut(e,s.getTime());a.setMonth(s.getMonth()+t+1,0);const c=a.getDate();return o>=c?a:(s.setFullYear(a.getFullYear(),a.getMonth(),o),s)}function Xe(e,t,n){const{years:s=0,months:o=0,weeks:a=0,days:c=0,hours:d=0,minutes:u=0,seconds:h=0}=t,l=$e(e,n?.in),m=o||s?Sl(l,o+s*12):l,y=c||a?_l(m,c+a*7):m,f=u+d*60,v=(h+f*60)*1e3;return ut(e,+y+v)}function st(e,t){const n=+$e(e)-+$e(t);return n<0?-1:n>0?1:n}function $l(e,t,n){const[s,o]=je(n?.in,e,t),a=s.getFullYear()-o.getFullYear(),c=s.getMonth()-o.getMonth();return a*12+c}function xl(e,t,n){const[s,o]=je(n?.in,e,t);return s.getFullYear()-o.getFullYear()}function Cl(e,t,n){const[s,o]=je(n?.in,e,t),a=sn(s,o),c=Math.abs(Ss(s,o));s.setDate(s.getDate()-a*c);const d=+(sn(s,o)===-a),u=a*(c-d);return u===0?0:u}function sn(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Mt(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function Pl(e,t,n){const[s,o]=je(n?.in,e,t),a=(+s-+o)/$s;return Mt(n?.roundingMethod)(a)}function Vn(e,t){return+$e(e)-+$e(t)}function El(e,t,n){const s=Vn(e,t)/xs;return Mt(n?.roundingMethod)(s)}function Rl(e,t){const n=$e(e,t?.in);return n.setHours(23,59,59,999),n}function Ol(e,t){const n=$e(e,t?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function Ml(e,t){const n=$e(e,t?.in);return+Rl(n,t)==+Ol(n,t)}function Al(e,t,n){const[s,o,a]=je(n?.in,e,e,t),c=st(o,a),d=Math.abs($l(o,a));if(d<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-c*d);let u=st(o,a)===-c;Ml(s)&&d===1&&st(s,a)===1&&(u=!1);const h=c*(d-+u);return h===0?0:h}function Ll(e,t,n){const s=Vn(e,t)/1e3;return Mt(n?.roundingMethod)(s)}function Tl(e,t,n){const[s,o]=je(n?.in,e,t),a=st(s,o),c=Math.abs(xl(s,o));s.setFullYear(1584),o.setFullYear(1584);const d=st(s,o)===-a,u=a*(c-+d);return u===0?0:u}function Il(e,t){const[n,s]=je(e,t.start,t.end);return{start:n,end:s}}const Dl=["years","months","weeks","days","hours","minutes","seconds"];function jl(e,t){const s=Cs().locale??Ps,o=t?.format??Dl,a=" ";return s.formatDistance?o.reduce((d,u)=>{const h=`x${u.replace(/(^.)/,m=>m.toUpperCase())}`,l=e[u];return l!==void 0&&e[u]?d.concat(s.formatDistance(h,l)):d},[]).join(a):""}function Bl(e,t){const{start:n,end:s}=Il(t?.in,e),o={},a=Tl(s,n);a&&(o.years=a);const c=Xe(n,{years:o.years}),d=Al(s,c);d&&(o.months=d);const u=Xe(c,{months:o.months}),h=Cl(s,u);h&&(o.days=h);const l=Xe(u,{days:o.days}),m=Pl(s,l);m&&(o.hours=m);const y=Xe(l,{hours:o.hours}),f=El(s,y);f&&(o.minutes=f);const $=Xe(y,{minutes:o.minutes}),v=Ll(s,$);return v&&(o.seconds=v),o}const Nl={sortValues:function(e){const t=_.find(_.get(e,"listRenderingOpts.sort"),{key:"sortValues"});return _.get(t,"active")},sortBy:function(e){const t=_.find(_.get(e,"listRenderingOpts.sort"),"current");return _.get(t,"key")},regularFilters:function(e){return _.filter(_.get(e,"listRenderingOpts.filter"),{type:"filter"}).length>0},filterKeys:function(e){return _.map(_.filter(_.get(e,"listRenderingOpts.filter"),{type:"filter",active:!0}),function(t){return t.key}).join(",")},filterKeysLength:function(e){return _.filter(_.get(e,"listRenderingOpts.filter"),{type:"filter"}).length},filterExtrasKeys:function(e){return _.map(_.filter(_.get(e,"listRenderingOpts.filter"),{type:"filterExtras",active:!0}),function(t){return t.key}).join(",")},scopeKeys:function(e){return _.map(_.filter(_.get(e,"listRenderingOpts.scope"),"active"),function(t){return t.key}).join(",")},searchIsActive:function(e){return e.searchQuery.trim()!==""},collectionSource:function(e,t){return e.collectionSource==="library.books"?t.regularBooks:_.get(e,e.collectionSource)},collectionTotal:function(e,t){return e.collectionSource==="library.books"?t.regularBooks.length:_.get(e,e.collectionSource,[]).length},collection:function(e,t){return t.searchIsActive?e.searchCollection:e.mutatingCollection},collectionDuration_inSeconds(e,t){return _.sumBy(t.collection,n=>n.length?Rs.methods.timeStringToSeconds(n.length):0)},collectionDuration(e,t){const n=t.collectionDuration_inSeconds*1e3,s=Bl({start:0,end:n});return jl(s)},collectionHours(e,t){return t.collectionDuration_inSeconds?(Es.methods.secondsToTimeString(t.collectionDuration_inSeconds,!0)||"").trim():void 0},saveStandaloneAfter:function(e){let t=_.get(e,"extractSettings.extraSettings");if(t&&_.find(t,{name:"saveStandaloneAfter",value:!0,deactivated:!1}))return!0},audioPlayerBook(e,t){return _.get(e.audioPlayer.audio,"book",{})},audioPlayerTitle(e,t){const n=_.get(t,"audioPlayerBook",{});return n.title||n.titleShort},mobileThreshold(e){return e.windowWidth<e.mobileWidth},showPageTitle(e){return!!(e.pageSubTitle||e.pageTitle)},regularBooks(e,t){return _.filter(e.library.books,s=>!_.get(s,"podcastParent"))},podcasts(e,t){const n=e.library.books;return _.filter(n,"podcastParent")}},_e=As({state:kl,mutations:wl,getters:Nl}),Vl="modulepreload",zl=function(e,t){return new URL(e,t).href},rn={},Be=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){const c=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),u=d?.nonce||d?.getAttribute("nonce");o=Promise.allSettled(n.map(h=>{if(h=zl(h,s),h in rn)return;rn[h]=!0;const l=h.endsWith(".css"),m=l?'[rel="stylesheet"]':"";if(!!s)for(let $=c.length-1;$>=0;$--){const v=c[$];if(v.href===h&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${m}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":Vl,l||(f.as="script"),f.crossOrigin="",f.href=h,u&&f.setAttribute("nonce",u),document.head.appendChild(f),l)return new Promise(($,v)=>{f.addEventListener("load",$),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})},Hl={name:"aleLibraryView",mounted(){}},Ul={key:0},ql={key:1,id:"nothing-here-404"},Fl={key:0},Gl={key:1};function Wl(e,t,n,s,o,a){const c=at("router-view");return e.$store.state.showRoute?(S(),C("div",Ul,[e.$route.name!=="404"?(S(),re(c,{key:e.$route.name+"-"+e.$store.state.routeParams+"-"+e.$store.state.refreshViewTimeStamp})):(S(),C("div",ql,[e.$store.getters.searchIsActive&&!e.$store.state.searchCollection.length?(S(),C("h3",Fl,"Search: no results")):(S(),C("h3",Gl,"404: There's nothing here"))]))])):H("",!0)}const Pe=pe(Hl,[["render",Wl]]),Ee=()=>Be(()=>import("./gallery-root.B8ZTUQwf.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),import.meta.url),Jl=()=>Be(()=>import("./gallery-collections.DAfRFNQf.js"),__vite__mapDeps([19,1,2,3,10,5,6,11,4,14,15,16,17,20]),import.meta.url),Yl=()=>Be(()=>import("./gallery-categories.OVm4lTNI.js"),__vite__mapDeps([21,2,3,4,8,9,10,5,6,11,14,15,16,17,22]),import.meta.url),Kl=()=>Be(()=>import("./gallery-series.BSfuyEDR.js"),__vite__mapDeps([23,1,2,3,7,8,9,10,5,6,11,12,13,4,14,15,16,17,24]),import.meta.url),Xl=()=>Be(()=>import("./gallery-authors.Cys8Ii98.js"),__vite__mapDeps([25,1,2,3,7,8,9,10,5,6,11,12,13,4,14,15,16,17,26]),import.meta.url),Ql=()=>Be(()=>import("./gallery-narrators.6OtZyQtp.js"),__vite__mapDeps([27,1,2,3,7,8,9,10,5,6,11,12,13,4,14,15,16,17,28]),import.meta.url),Zl=()=>Be(()=>import("./gallery-publishers.BpGxiw_I.js"),__vite__mapDeps([29,1,2,3,7,8,9,10,5,6,11,12,13,4,14,15,16,17,30]),import.meta.url),Le={library:{name:"library",path:"/library",component:Ee,meta:{gallery:!0,title:"Library",icon:"fa-solid fa-book"}},collections:{path:"/collections",component:Pe,meta:{icon:"fa-regular fa-folder-open"},children:[{name:"collections",path:"",component:Jl,meta:{title:"Collections"}},{name:"collection",path:":collection",component:Ee,meta:{gallery:!0,title:"Collections"}}]},wishlist:{path:"/wishlist",component:Pe,meta:{icon:"fa-solid fa-bookmark"},children:[{name:"wishlist",path:"",component:Ee,meta:{gallery:!0,title:"Wishlist"}}]},podcasts:{path:"/podcasts",component:Pe,meta:{icon:"fa-solid fa-podcast"},children:[{name:"podcasts",path:"",component:Ee,meta:{gallery:!0,title:"Podcasts"}}]},subPages:{categories:{path:"/categories",meta:{icon:"fa-solid fa-indent",nestedGroup:"subPages",order:0},component:Pe,children:[{name:"categories",path:"",component:Yl,meta:{subPage:!0,title:"Categories"}},{name:"category",path:":parent/:child?",component:Ee,meta:{gallery:!0,subPage:!0,title:"Categories"}}]},series:{path:"/series",component:Pe,meta:{icon:"fa-solid fa-list-ol",nestedGroup:"subPages",order:1},children:[{name:"all-series",path:"",component:Kl,meta:{subPage:!0,title:"Series"}},{name:"series",path:":series",component:Ee,meta:{gallery:!0,subPage:!0,title:"Series"}}]},authors:{path:"/authors",component:Pe,meta:{icon:"fa-solid fa-user-group",nestedGroup:"subPages",order:2},children:[{name:"authors",path:"",component:Xl,meta:{subPage:!0,title:"Authors"}},{name:"author",path:":author",component:Ee,meta:{gallery:!0,subPage:!0,title:"Authors"}}]},narrators:{path:"/narrators",component:Pe,meta:{icon:"fa-solid fa-users",nestedGroup:"subPages",order:3},children:[{name:"narrators",path:"",component:Ql,meta:{subPage:!0,title:"Narrators"}},{name:"narrator",path:":narrator",component:Ee,meta:{gallery:!0,subPage:!0,title:"Narrators"}}]},publishers:{path:"/publishers",component:Pe,meta:{icon:"fa-solid fa-book",nestedGroup:"subPages",order:4},children:[{name:"publishers",path:"",component:Zl,meta:{subPage:!0,title:"Publishers"}},{name:"publisher",path:":publisher",component:Ee,meta:{gallery:!0,subPage:!0,title:"Publishers"}}]}},fallback:{path:"/:pathMatch(.*)*",name:"404",component:Pe,meta:{}}};function ec(e,t){if(e){let s=[];e.books?s.push({path:"/",redirect:"/library"}):e.wishlist&&s.push({path:"/",redirect:"/wishlist"}),e.books&&s.push(Le.library),!e.books&&e.wishlist&&s.push(Le.wishlist);var n=Le.subPages;let o=_.get(e,"extras.subPageStates");o?_.each(o,function(d){d.enabled&&s.push(n[d.key])}):(e.books||e.wishlist)&&_.each(n,function(d){s.push(d)}),e.collections&&s.push(Le.collections),(e.podcasts||t.getters.podcasts.length)&&s.push(Le.podcasts),e.books&&e.wishlist&&s.push(Le.wishlist),s.push(Le.fallback);const a=yl({history:Wa("./"),routes:s,scrollBehavior(d,u,h){return h||(u&&d.name===u.name&&_.isEqual(d.params,u.params)?void 0:{x:0,y:0})}});if(document.querySelector("html.standalone-gallery")){let d=function(h){return new Promise(function(l,m){let y=document.createElement("script");y.src=(h.prefix||"data/")+h.name+"."+e.extras.cacheID+".js",y.type="text/javascript",y.onload=function(){l(h),y=null},y.onerror=function(){m(h),y=null},document.body.appendChild(y)})},u=function(h,l,m,y,f){y=_.filter(y,function(v){return window[v.name+"JSON"]!==!0});let $=[];y.forEach(function(v){$.push(d(v))}),Promise.all($).catch(function(){f||setTimeout(function(){u(h,l,m,y,"afterError")},1e3)}).finally(function(){let v=_.map(y,function(b){return{key:b.keyOverride||b.name,value:window[b.name+"JSON"]}});t.commit("buildStandaloneData",v),_.each(y,function(b){window[b.name+"JSON"]=!0}),$t(h,l,m)})};a.beforeEach((h,l,m)=>{on(h);const y=l.name!==h.name,f=_.get(l,"query.book")!==_.get(h,"query.book"),$=l.query.subPageSource!==h.query.subPageSource;if(h.name&&(y||f||$)){const v=[],b=h.name==="wishlist"||h.query.subPageSource==="wishlist"||h.meta.subPage&&!h.query.subPageSource&&t.state.sticky.subPageSource==="wishlist";e.wishlist&&b?v.push({name:"wishlist"}):e.books&&v.push({name:"library",keyOverride:"books"}),e.series&&v.push({name:"series"}),e.collections&&v.push({name:"collections"}),e.userReviews&&v.push({name:"userReviews"}),u(h,l,m,v)}else $t(h,l,m)})}else a.beforeEach((d,u,h)=>{on(d),$t(d,u,h)});return a.afterEach((d,u,h)=>{if(tc(),u.name!==d.name){const l=t.state.navHistory.forward,m=t.state.navHistory.back;u.name&&u.name!==l[l.length-1]&&u.name!==m[m.length-1]&&t.commit("navHistory",{key:"back",value:u.name,pushOnly:!0}),t.state.navHistory.btnNavigation||t.commit("prop",{key:"navHistory.forward",value:[]}),t.commit("prop",{key:"navHistory.btnNavigation",value:!1})}}),a}}function $t(e,t,n){e.query.refresh?(delete e.query.refresh,n(e)):n()}function on(e,t,n){e.query.refresh&&_e.commit("prop",[{key:"showRoute",value:!1},{key:"refreshViewTimeStamp",value:new Date().getTime()}])}function tc(){_e.commit("prop",[{key:"showRoute",value:!0}])}const zn={};zn.install=function(e,t){e.config.globalProperties.$updateQuery=function(n){n=n||{};let s=n.query,o=n.value,a=n.history,c=n.queries||this.$route.query,d=JSON.parse(JSON.stringify(c));o===void 0?d[s]?delete d[s]:d[s]=!0:o?d[s]=o:delete d[s],a?this.$router.push({query:d}).catch(()=>{}):this.$router.replace({query:d}).catch(()=>{})},e.config.globalProperties.$updateQueries=function(n,s){s=s||{};let o=s.history,a=JSON.parse(JSON.stringify(s.queries||this.$route.query));_.merge(a,n),_.each(a,function(c,d){_.isNil(c)&&delete a[d]}),o?this.$router.push({query:a}).catch(()=>{}):this.$router.replace({query:a}).catch(()=>{})}};let Hn=null,Qe=null,an=function(){const e=Hn;e&&e.state.isVisible&&(e.hide(),e.reference.blur())};const nc={directive:"tippy",component:"tippy",componentSingleton:"tippy-singleton",defaultProps:{placement:"top",flipBehavior:["top","bottom","left","right"],allowHTML:!0,arrow:!0,theme:"dark",maxWidth:650,delay:[500,0],a11y:!1,onShow:e=>{Hn=e,Qe=document.querySelector(".list-view-inner-wrap")||window,Qe.addEventListener("scroll",an,{passive:!0});let t=e.props.content;return(!t||t==="false")&&(t=!1),t},onHide:e=>{Qe||(Qe=document.querySelector(".list-view-inner-wrap")||window),Qe.addEventListener("scroll",an,{passive:!0})},boundary:"viewport",flipDuration:0}},sc=700,ic={created:function(e,{value:t},n){if(typeof t!="function"){console.warn(`Expect a function, got ${t}`);return}let s=null;const o=c=>{c.type==="touchstart"&&c.preventDefault(),!(c.type==="click"&&c.button!==0)&&s===null&&(s=setTimeout(()=>t(c),sc))},a=()=>{s!==null&&(clearTimeout(s),s=null)};["mousedown","touchstart"].forEach(c=>e.addEventListener(c,o,{passive:!0})),["click","mouseout","touchend","touchcancel"].forEach(c=>e.addEventListener(c,a,{passive:!0}))},unmounted:function(e,t){["mousedown","touchstart"].forEach(n=>e.removeEventListener(n,start,{passive:!0})),["click","mouseout","touchend","touchcancel"].forEach(n=>e.removeEventListener(n,cancel,{passive:!0}))}};function ln(e){return e.type.indexOf("mouse")!==-1?e.clientX:e.touches[0].clientX}function cn(e){return e.type.indexOf("mouse")!==-1?e.clientY:e.touches[0].clientY}var rc=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch{}return e}(),oc={install:function(e,t){var n=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",dragFrequency:100,rollOverFrequency:100,namespace:"touch"},t);function s(v){var b=this.$$touchObj,R=v.type.indexOf("touch")>=0,A=v.type.indexOf("mouse")>=0,E=this;R&&(b.lastTouchStartTime=v.timeStamp),!(A&&b.lastTouchStartTime&&v.timeStamp-b.lastTouchStartTime<350)&&(b.touchStarted||(m(this),b.touchStarted=!0,b.touchMoved=!1,b.swipeOutBounded=!1,b.startX=ln(v),b.startY=cn(v),b.currentX=0,b.currentY=0,b.touchStartTime=v.timeStamp,b.hasSwipe=h(this,"swipe")||h(this,"swipe.left")||h(this,"swipe.right")||h(this,"swipe.top")||h(this,"swipe.bottom"),h(this,"hold")&&(b.touchHoldTimer=setTimeout(function(){b.touchHoldTimer=null,l(v,E,"hold")},b.options.touchHoldTolerance)),l(v,this,"press")))}function o(v){var b=this.$$touchObj,R=ln(v),A=cn(v),E=b.currentX!=R||b.currentY!=A;if(b.currentX=R,b.currentY=A,b.touchMoved){if(b.hasSwipe&&!b.swipeOutBounded){var J=b.options.swipeTolerance;b.swipeOutBounded=Math.abs(b.startX-b.currentX)>J&&Math.abs(b.startY-b.currentY)>J}}else{var N=b.options.tapTolerance;b.touchMoved=Math.abs(b.startX-b.currentX)>N||Math.abs(b.startY-b.currentY)>N,b.touchMoved&&(f(b),l(v,this,"drag.once"))}if(h(this,"rollover")&&E){var V=v.timeStamp,F=b.options.rollOverFrequency;(b.touchRollTime==null||V>b.touchRollTime+F)&&(b.touchRollTime=V,l(v,this,"rollover"))}if(h(this,"drag")&&b.touchStarted&&b.touchMoved&&E){var V=v.timeStamp,F=b.options.dragFrequency;(b.touchDragTime==null||V>b.touchDragTime+F)&&(b.touchDragTime=V,l(v,this,"drag"))}}function a(){var v=this.$$touchObj;f(v),y(this),v.touchStarted=v.touchMoved=!1,v.startX=v.startY=0}function c(v){var b=this.$$touchObj,R=v.type.indexOf("touch")>=0,A=v.type.indexOf("mouse")>=0;R&&(b.lastTouchEndTime=v.timeStamp);var E=R&&!b.touchHoldTimer;if(f(b),b.touchStarted=!1,y(this),!(A&&b.lastTouchEndTime&&v.timeStamp-b.lastTouchEndTime<350))if(l(v,this,"release"),b.touchMoved){if(b.hasSwipe&&!b.swipeOutBounded){var N=b.options.swipeTolerance,J,V=Math.abs(b.startY-b.currentY),F=Math.abs(b.startX-b.currentX);(V>N||F>N)&&(V>F?J=b.startY>b.currentY?"top":"bottom":J=b.startX>b.currentX?"left":"right",h(this,"swipe."+J)?l(v,this,"swipe."+J,J):l(v,this,"swipe",J))}}else if(h(this,"longtap")&&v.timeStamp-b.touchStartTime>b.options.longTapTimeInterval)v.cancelable&&v.preventDefault(),l(v,this,"longtap");else if(h(this,"hold")&&E){v.cancelable&&v.preventDefault();return}else l(v,this,"tap")}function d(){m(this)}function u(){y(this)}function h(v,b){var R=v.$$touchObj.callbacks[b];return R!=null&&R.length>0}function l(v,b,R,A){var E=b.$$touchObj,N=E.callbacks[R];if(N==null||N.length===0)return null;for(var J=0;J<N.length;J++){var V=N[J];V.modifiers.stop&&v.stopPropagation(),V.modifiers.prevent&&v.preventDefault(),!(V.modifiers.self&&v.target!==v.currentTarget)&&typeof V.value=="function"&&(A?V.value(A,v):V.value(v))}}function m(v){var b=v.$$touchObj.options.touchClass;b&&v.classList.add(b)}function y(v){var b=v.$$touchObj.options.touchClass;b&&v.classList.remove(b)}function f(v){v&&v.touchHoldTimer&&(clearTimeout(v.touchHoldTimer),v.touchHoldTimer=null)}function $(v,b){var R=v.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:n};return b&&(R.options=Object.assign({},R.options,b)),v.$$touchObj=R,v.$$touchObj}e.directive(n.namespace,{beforeMount:function(v,b){var R=$(v),A=rc?{passive:!0}:!1,E=b.arg||"tap";switch(E){case"swipe":var N=b.modifiers;if(N.left||N.right||N.top||N.bottom){for(var J in b.modifiers)if(["left","right","top","bottom"].indexOf(J)>=0){var V="swipe."+J;R.callbacks[V]=R.callbacks[V]||[],R.callbacks[V].push(b)}}else R.callbacks.swipe=R.callbacks.swipe||[],R.callbacks.swipe.push(b);break;case"press":case"drag":b.modifiers.disablePassive&&(A=!1);default:R.callbacks[E]=R.callbacks[E]||[],R.callbacks[E].push(b)}R.hasBindTouchEvents||(v.addEventListener("touchstart",s,A),v.addEventListener("touchmove",o,A),v.addEventListener("touchcancel",a),v.addEventListener("touchend",c),R.options.disableClick||(v.addEventListener("mousedown",s),v.addEventListener("mousemove",o),v.addEventListener("mouseup",c),v.addEventListener("mouseenter",d),v.addEventListener("mouseleave",u)),R.hasBindTouchEvents=!0)},unmounted:function(v){f(v.$$touchObj),v.removeEventListener("touchstart",s),v.removeEventListener("touchmove",o),v.removeEventListener("touchcancel",a),v.removeEventListener("touchend",c),v.$$touchObj&&!v.$$touchObj.options.disableClick&&(v.removeEventListener("mousedown",s),v.removeEventListener("mousemove",o),v.removeEventListener("mouseup",c),v.removeEventListener("mouseenter",d),v.removeEventListener("mouseleave",u)),delete v.$$touchObj}}),e.directive(`${n.namespace}-class`,{beforeMount:function(v,b){$(v,{touchClass:b.value})}}),e.directive(`${n.namespace}-options`,{beforeMount:function(v,b){$(v,b.value)}})}};const Un={};Un.install=function(e,t){e.config.globalProperties.$setListRenderingOpts=function(n){if(this.$route.query.sortValues){const s=_.findIndex(n.sort,{key:"sortValues"});n.sort[s].active=this.$route.query.sortValues}if(this.$route.query.sort){let s=_.find(n.sort,{current:!0});s.current=!1;const o=_.findIndex(n.sort,{key:this.$route.query.sort});o>-1&&(n.sort[o].current=!0,n.sort[o].active=this.$route.query.sortDir==="desc")}if(this.$route.query.filter){let s=decodeURIComponent(this.$route.query.filter).split(",");_.each(_.filter(n.filter,{type:"filter"}),function(o){o.active=!1,_.each(s,function(a){o.key===a&&(o.active=!0)})})}if(this.$route.query.filterExtras){let s=this.$route.query.filterExtras.split(",");s=_.map(s,function(o){return decodeURIComponent(o)}),_.each(s,function(o){let a=o.split(":"),c=a[0],d=_.find(n.filter,{type:"filterExtras",key:c});if(d&&(d.active=!0,a.length>1)){if(d.dropdownOpts)d.value=a[1].split("|");else if(d.range){let u=a[1].split("-"),h=parseFloat(u[0]),l=parseFloat(u[1]);d.range=[h,l]}}})}if(this.$route.query.scope){let s=decodeURIComponent(this.$route.query.scope).split(",");_.each(n.scope,function(o){o.active=!1,_.each(s,function(a){o.key===a&&(o.active=!0)})})}this.$store.commit("prop",{key:"listRenderingOpts",value:n})}};function ac(e){_e.commit("fromLocalStorage"),_e.subscribe(function(n,s){n.type==="stickyProp"||n.type==="updatePlayerProgress"?localStorage.setItem("aleSettings",JSON.stringify(s.sticky)):n.type==="prop"&&_.each(_.isArray(n.payload)?n.payload:[n.payload],function(o){const a=_.get(o,"key","");(_.get(a,"0")==="sticky"||!!a.match(/^sticky\./i))&&localStorage.setItem("aleSettings",JSON.stringify(s.sticky))})});const t=document.querySelector("html.standalone-gallery");_e.commit("prop",[{key:"library",value:e,freeze:!t},{key:"standalone",value:!!t},{key:"displayMode",value:window.matchMedia("(display-mode: standalone)").matches},{key:"urlOrigin",value:"https://audible"+e.extras["domain-extension"]},{key:"extractSettings",value:e.config}]),e.extras.pages.wishlist?e.extras.pages.books||_e.commit("stickyProp",{key:"subPageSource",value:"wishlist"}):_e.commit("stickyProp",{key:"subPageSource",value:"library"}),!e.books&&e.wishlist&&_e.commit("stickyProp",{key:"subPageSource",value:"wishlist"})}const qn=document.querySelector("html.standalone-gallery"),ye=ys(ma);ye.config.devtools=!1;ye.config.productionTip=!1;ye.use(_s);ye.use(zn);ye.config.globalProperties.$compEmitter=new Ls;ye.use(_e);ye.use(Ts,nc);ye.directive("longpress",ic);ye.use(oc);ye.use(Un);if(qn){let e=function(t){let n=document.createElement("script"),s=document.querySelector("#audible-library-extractor").getAttribute("data-cache-id");n.src="data/temp-data."+s+".js",n.type="text/javascript",n.onload=function(){let o=window.tempDataJSON;window.bookSummaryJSON=!0,n=null,un(o)},n.onerror=function(){n=null,setTimeout(function(){t||e("afterError")},1e3)},document.head.appendChild(n)};e()}else try{chrome.storage.local.get(null).then(e=>{!_.isEmpty(e)&&e.chunks?(Os.methods.glueFriesBackTogether(e),un(e)):alert("No existing data found: extract your library again.")})}catch{}function un(e){let t;if(_.set(e,"extras.pages",{}),qn){t=JSON.parse(JSON.stringify(e));var n=["books","series","collections","podcasts","wishlist"];_.each(n,function(o){_.get(e,o)===!0&&(delete e[o],_.set(e,"extras.pages."+o,!0))})}ac(e);let s=ec(t||e,_e);ye.use(s),ye.mount("#audible-library-extractor")}export{bn as V,ci as _,_o as a,Ti as b,Cn as c,_n as d,ht as e,xn as f,nr as g,ko as m,wo as p,bo as s};
